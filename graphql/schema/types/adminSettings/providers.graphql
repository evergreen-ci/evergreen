input AWSAccountRoleMappingInput {
  account: String! @redactSecrets
  role: String! @redactSecrets
}

type AWSAccountRoleMapping {
  account: String! @requireAdmin
  role: String! @requireAdmin
}

input AWSConfigInput {
  ec2Keys: [EC2KeyInput!]! @redactSecrets
  subnets: [SubnetInput!]!
  parserProject: ParserProjectS3ConfigInput @redactSecrets
  persistentDNS: PersistentDNSConfigInput
  defaultSecurityGroup: String @redactSecrets
  allowedInstanceTypes: [String!]!
  alertableInstanceTypes: [String!]!
  allowedRegions: [String!]!
  maxVolumeSizePerUser: Int
  accountRoles: [AWSAccountRoleMappingInput!]! @redactSecrets
  ipamPoolID: String
  elasticIPUsageRate: Float
}

type AWSConfig {
  ec2Keys: [EC2Key!]! @requireAdmin
  subnets: [Subnet!]!
  parserProject: ParserProjectS3Config @requireAdmin
  persistentDNS: PersistentDNSConfig
  defaultSecurityGroup: String @requireAdmin
  allowedInstanceTypes: [String!]!
  alertableInstanceTypes: [String!]!
  allowedRegions: [String!]!
  maxVolumeSizePerUser: Int
  accountRoles: [AWSAccountRoleMapping!]! @requireAdmin
  ipamPoolID: String
  elasticIPUsageRate: Float
}

input AWSVPCConfigInput {
  subnets: [String!]!
  securityGroups: [String!]! @redactSecrets
}

type AWSVPCConfig {
  subnets: [String!]!
  securityGroups: [String!]! @requireAdmin
}

input CloudProviderConfigInput {
  aws: AWSConfigInput
  docker: DockerConfigInput
}

type CloudProviderConfig {
  aws: AWSConfig
  docker: DockerConfig
}

input ContainerPoolInput {
  id: String!
  distro: String!
  maxContainers: Int!
  port: Int!
}

type ContainerPool {
  id: String!
  distro: String!
  maxContainers: Int!
  port: Int!
}

input ContainerPoolsConfigInput {
  pools: [ContainerPoolInput!]!
}

type ContainerPoolsConfig {
  pools: [ContainerPool!]!
}

input DockerConfigInput {
  apiVersion: String
}

type DockerConfig {
  apiVersion: String
}

input EC2KeyInput {
  name: String!
  key: String! 
  secret: String! @redactSecrets
}

type EC2Key {
  name: String!
  key: String! 
  secret: String! @requireAdmin
}

input OwnerRepoInput {
  owner: String!
  repo: String!
}

type OwnerRepo {
  owner: String!
  repo: String!
}

input ParameterStoreConfigInput {
  prefix: String
}

type ParameterStoreConfig {
  prefix: String
}

input ParserProjectS3ConfigInput {
  key: String 
  secret: String! @redactSecrets
  bucket: String
  prefix: String
  generatedJSONPrefix: String
}

type ParserProjectS3Config {
  key: String 
  secret: String! @requireAdmin
  bucket: String
  prefix: String
  generatedJSONPrefix: String
}

input PersistentDNSConfigInput {
  hostedZoneID: String
  domain: String
}

type PersistentDNSConfig {
  hostedZoneID: String
  domain: String
}

input ProjectCreationConfigInput {
  totalProjectLimit: Int
  repoProjectLimit: Int
  repoExceptions: [OwnerRepoInput!]!
  jiraProject: String
}

type ProjectCreationConfig {
  totalProjectLimit: Int
  repoProjectLimit: Int
  repoExceptions: [OwnerRepo!]!
  jiraProject: String
}

input SubnetInput {
  az: String!
  subnetId: String!
}

type Subnet {
  az: String!
  subnetId: String!
}
