# This file contains the admin settings used for the smoke test's app server.
# This does not contain the entire configuration that will be used in the smoke
# test, because it excludes the sensitive credentials necessary for the smoke
# test to run (which are populated during task runtime).

log_path: "app_server.log"

database:
  url: "mongodb://localhost:27017"
  db: "mci_smoke"
  write_concern:
    wmode: majority

amboy:
  db_connection:
    url: mongodb://localhost:27017
    database: amboy_smoke
  name: evg.service
  skip_preferred_indexes: true

buckets:
  log_bucket:
    name: "logs"
    type: "gridfs"
    db_name: "mci_smoke"

domain_name: "evergreen.local"
configdir: "config_test"
client_binaries_dir: "clients"

api_url: http://localhost:8080
api:
  github_webhook_secret: "test"
  httplistenaddr: ":8080"
ui:
  parsley_url: "http://localhost:4173"
  secret: "secret for UI"
  defaultproject: "logkeeper"
  url: "http://localhost:9090"
  httplistenaddr: ":9090"
  cors_origins: ["http://localhost:3000"]

notify:
  logfile: "evg_notify.log"

runner:
  intervalseconds: 10

auth:
  naive:
    users:
      - username: "admin"
        password: "password"
        display_name: "Evergreen Admin"
      - username: "privileged"
        password: "password"
        display_name: "Privileged User"
      - username: "regular"
        password: "password"
        display_name: "Regular User"

plugins:
  perf:
    projects: ["sys-perf", "performance"]
  buildbaron:
    host: "jira.example.com"
    username: "foo"
    password: "bar"
    projects:
      "logkeeper":
        ticket_create_project: "foo"
        ticket_search_projects: ["foo"]

providers:
  aws:
    aws_id: "foo"
    aws_secret: "bar"
    pod:
      ecs:
        allowed_images: ["fake_smoke_test_image"]

keys:
  test: "/dev/null"

repotracker:
  revs_to_fetch: 10
  max_revs_to_search: 10

shutdown_wait_seconds: 10

cedar:
  base_url: "localhost"
  rpc_port: "7070"
  user: "user"
  api_key: "key"
  insecure: true
