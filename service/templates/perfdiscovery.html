{{define "scripts"}}
<script type="text/javascript" src="/static/app/common/ApiV1.js?hash={{ StaticsMD5 }}"></script>
<script type="text/javascript" src="/static/app/common/ApiTaskdata.js?hash={{ StaticsMD5 }}"></script>
<script type="text/javascript" src="/static/app/common/ApiUtil.js?hash={{ StaticsMD5 }}"></script>
<script type="text/javascript" src="/static/app/common/constants.js?hash={{ StaticsMD5 }}"></script>
<script type="text/javascript" src="/static/app/common/EvgUiGridUtil.js?hash={{ StaticsMD5 }}"></script>
<script type="text/javascript" src="/static/app/common/httpParamDeserializer.js?hash={{ StaticsMD5 }}"></script>
<script type="text/javascript" src="/static/app/perfdiscovery/perfDiscoveryRatio.js?hash={{ StaticsMD5 }}"></script>
<script type="text/javascript" src="/static/app/perfdiscovery/PerformanceDiscoveryCtrl.js?hash={{ StaticsMD5 }}"></script>
<script type="text/javascript" src="/static/app/perfdiscovery/PerfDiscoveryDataService.js?hash={{ StaticsMD5 }}"></script>
<script type="text/javascript" src="/static/app/perfdiscovery/PerfDiscoveryStateService.js?hash={{ StaticsMD5 }}"></script>
<script type="text/javascript" src="/static/app/perfdiscovery/constants.js?hash={{ StaticsMD5 }}"></script>
<script type="text/javascript" src="/static/app/perfdiscovery/templates.js?hash={{ StaticsMD5 }}"></script>
<script type="text/javascript" src="/static/app/perfdiscovery/multiselectGridHeader.js?hash={{ StaticsMD5 }}"></script>
<script type="text/javascript" src="/static/app/perfdiscovery/microTrendChart.js?hash={{ StaticsMD5 }}"></script>

<link rel="stylesheet" href="/static/app/perfdiscovery/perfdiscovery.css">
{{end}}

{{define "title"}}
Performance Discovery
{{end}}

{{define "content"}}
<div ng-controller="PerformanceDiscoveryCtrl as $ctrl" class="content-container">
  <div class="perf-discovery-header">

    <!-- The left dropdown -->
    <label class="perf-discovery-select perf-discovery-select-left">
      Your Results
      <ui-select ng-model="$ctrl.revisionSelect.selected"
                 ng-change="$ctrl.updateData()"
                 title="Select revision to compare">
        <ui-select-match placeholder="Compare revision">
          <span ng-bind="$select.selected"></span>
        </ui-select-match>
        <ui-select-choices repeat="item in ($ctrl.getVersionOptions($select.search) | filter: $select.search)">
          <span ng-bind="item"></span>
        </ui-select-choices>
      </ui-select>
    </label>

    <!-- The right dropdown -->
    <label class="perf-discovery-select perf-discovery-select-right">
      Baseline Results
      <ui-select ng-model="$ctrl.tagSelect.selected"
                 ng-change="$ctrl.updateData()"
                 title="Select baseline">
        <ui-select-match placeholder="Baseline revision">
          <span ng-bind="$select.selected.name"></span>
        </ui-select-match>
        <ui-select-choices repeat="item in ($ctrl.tagSelect.options | filter: $select.search) track by item.name">
          <span ng-bind="item.name"></span>
        </ui-select-choices>
      </ui-select>
    </label>

  </div>

  <div
    class="grid"
    ui-grid="$ctrl.gridOptions"
    ui-grid-auto-resize
    ui-grid-resize-columns
    ui-grid-move-columns
    ui-grid-auto-resize
    ui-grid-empty-base-layer
  >
    <div class="ui-grid-overlay ng-cloak">
      <md-progress-circular
        mode="indeterminate"
        md-diameter="70"
        ng-show="$ctrl.isLoading"
      >
      </md-progress-circular>
      <h1 ng-show="!$ctrl.isLoading && !$ctrl.gridOptions.data.length">
        No data available!
      </h1>
    </div>
  </div>
</div>
{{end}}
