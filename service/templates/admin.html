{{define "scripts"}}
<script>
	window.validDefaultHostAllocatorRoundingRules = {{.ValidDefaultHostAllocatorRoundingRules}};
	window.validDefaultHostAllocatorFeedbackRules = {{.ValidDefaultHostAllocatorFeedbackRules}};
	window.validDefaultHostsOverallocatedRules = {{.ValidDefaultHostsOverallocatedRules}};
	window.can_clear_tokens = {{.CanClearTokens }};
</script>
<script src="{{Static "js" "admin.js"}}?hash={{ BuildRevision }}"></script>
<script type="text/javascript" src="{{Static "thirdparty" "js-yaml.min.js"}}?hash={{ BuildRevision }}"></script>
<style type="text/css">
	body {
		background-color: rgb(250, 250, 250);
	}
</style>
{{end}}

{{define "title"}}
Admin Settings
{{end}}


{{define "content"}}
<div ng-controller="AdminSettingsController" layout="column" ng-cloak>
	<div id="restart-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog" style="width: 1000px">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true"
						style="font-size: 35px">&times;</button>
					<h2 class="modal-title">[[modalTitle]]</h2>
				</div>
				<div class="modal-body">
					<div id="divMsg"></div>
					<div>The following [[items.length]] items will be restarted:</div>
					<div id="tasksDisplay">
						<li ng-repeat="item in items" class="link" ng-click="jumpToItem(itemType, item)">[[item]]</li>
					</div>
					<div>
						<div class="justifyRight">
							<md-button class="md-raised" ng-click="restartItems(itemType, false)"
								ng-disabled="disableRestart">Restart</md-button>
							<md-button class="md-raised" data-dismiss="modal">Cancel</md-button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<section layout="row" flex>

		<md-content flex="15">
			<md-sidenav id="sideNav" class="leftNav md-sidenav-left" md-is-locked-open="true" style="z-index:0">
				<md-content layout-padding style="background-color:rgb(250,250,250)">
					<div id="navLinks">
						<div>Degraded Mode</div>
						<li class="link" ng-click="scrollTo('degraded')">Service Flags</li>
						<li class="link" ng-click="scrollTo('announcements')">Announcements</li>
						<div>Runners</div>
						<li class="link" ng-click="scrollTo('notify')">Notify</li>
						<li class="link" ng-click="scrollTo('task_limits')">Task Limits</li>
						<li class="link" ng-click="scrollTo('hostinit')">Hostinit</li>
						<li class="link" ng-click="scrollTo('pod_lifecycle')">Pod Lifecycle</li>
						<li class="link" ng-click="scrollTo('scheduler')">Scheduler</li>
						<li class="link" ng-click="scrollTo('repotracker')">Repotracker</li>
						<div>Web</div>
						<li class="link" ng-click="scrollTo('api')">API Config</li>
						<li class="link" ng-click="scrollTo('ui')">UI Config</li>
						<div>Authentication</div>
						<li class="link" ng-click="scrollTo('auth')">Global Config</li>
						<li class="link" ng-click="scrollTo('okta')">Okta</li>
						<li class="link" ng-click="scrollTo('naive')">Naive</li>
						<li class="link" ng-click="scrollTo('github')">Github</li>
						<li class="link" ng-click="scrollTo('multi')">Multi</li>
						<div>External Communication</div>
						<li class="link" ng-click="scrollTo('jira')">Jira</li>
						<li class="link" ng-click="scrollTo('slack')">Slack</li>
						<li class="link" ng-click="scrollTo('splunk')">Splunk</li>
						<li class="link" ng-click="scrollTo('newrelic')">New Relic</li>
						<li class="link" ng-click="scrollTo('cedar')">Cedar</li>
						<li class="link" ng-click="scrollTo('runtimeenvironments')">Runtime Environments</li>
						<div>Background Processing</div>
						<li class="link" ng-click="scrollTo('amboy')">Amboy</li>
						<li class="link" ng-click="scrollTo('logger_config')">Logger Config</li>
						<li class="link" ng-click="scrollTo('notifications')">Notifications Config</li>
						<li class="link" ng-click="scrollTo('triggers')">Triggers Config</li>
						<li class="link" ng-click="scrollTo('commit_queue')">Commit Queue</li>
						<div>Providers</div>
						<li class="link" ng-click="scrollTo('containerpools')">Container Pools</li>
						<li class="link" ng-click="scrollTo('aws')">AWS</li>
						<li class="link" ng-click="scrollTo('docker')">Docker</li>
						<div>Other</div>
						<li class="link" ng-click="scrollTo('misc')">Misc Settings</li>
						<li class="link" ng-click="scrollTo('credentials')">Credentials</li>
						<li class="link" ng-click="scrollTo('buckets')">Bucket Config</li>
						<li class="link" ng-click="scrollTo('expansions')">Expansions</li>
						<li class="link" ng-click="scrollTo('host_jasper')">Host Jasper</li>
						<li class="link" ng-click="scrollTo('jira_notifications')">JIRA Custom Field Mappings</li>
						<li class="link" ng-click="scrollTo('spawnhosts')">Spawn Hosts</li>
						<li class="link" ng-click="scrollTo('sleep_schedule')">Sleep Schedules</li>
						<li class="link" ng-click="scrollTo('tracer')">Tracer Config</li>
						<li class="link" ng-click="scrollTo('project_creation')">Project Creation</li>
						<li class="link" ng-click="scrollTo('github_check_run')">GitHub Check Run</li>
						<div>Non-Configuration</div>
						<li class="link" ng-click="scrollTo('restart')">Restart Tasks/Versions</li>
						<a class="link" href="/admin/events" style="margin-left:10px;">Event Log</a>
					</div>
				</md-content>
			</md-sidenav>
		</md-content>

		<md-content id="main" flex="85" layout-padding>
			<notify-box ng-init="destination='errorHeader'"></notify-box>
			<md-card style="width:99%">
				<form ngSubmit="saveSettings()" style="min-width:1225px; overflow-x:scroll;">
					<md-card-content class="squeezeAll">

						<section layout="row" flex>
							<md-card flex=50 id="degraded">
								<md-card-title>
									<md-card-title-text>
										<span>Service Degrading</span>
									</md-card-title-text>
								</md-card-title>
								<md-card-content>

									<table class="flagsTable">
										<thead>
											<tr>
												<th />
												<th>Enabled</th>
												<th>Disabled</th>
											</tr>
										</thead>
										<tbody>
											<tr>
												<td>Dispatch tasks</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.task_dispatch_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Large parser projects</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.large_parser_projects_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Create and provision hosts</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.host_init_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Create and provision pods</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.pod_init_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Monitor hosts and tasks</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.monitor_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Alert for spawn host expiration</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.alerts_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Start agents on hosts</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.agent_start_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Track GitHub repositories</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.repotracker_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Schedule tasks</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.scheduler_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Check Blocked Tasks</td>
												<td colspan="2">
													<md-radio-group
															data-ng-model="Settings.service_flags.check_blocked_tasks_disabled"
															layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Auto-restart system failures</td>
												<td colspan="2">
													<md-radio-group
															data-ng-model="Settings.service_flags.system_failed_task_restart_disabled"
															layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Test GitHub pull requests</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.github_pr_testing_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Update CLI</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.cli_updates_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Collect background statistics</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.background_stats_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Persist task and test logs</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.task_logging_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
                                                                                        <tr>
												<td>Cache historical statistics</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.cache_stats_job_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Cache historical statistics endpoint</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.cache_stats_endpoint_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Process Commit Queue</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.commit_queue_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Host Allocator</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.host_allocator_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Allocate pods for container tasks</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.pod_allocator_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Clean up unrecognized pods</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.unrecognized_pod_cleanup_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Background reauthorization</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.background_reauth_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Background Data Cleanup</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.background_cleanup_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Cloud Provider Cleanup</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.cloud_cleanup_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Public access for legacy UI</td>
												<td colspan="2">
													<md-radio-group
															data-ng-model="Settings.service_flags.legacy_ui_public_access_disabled"
															layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Global GitHub Token</td>
												<td colspan="2">
													<md-radio-group data-ng-model="Settings.service_flags.global_github_token_disabled" layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Unexpirable host sleep schedule</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.sleep_schedule_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Unexpirable host sleep schedule beta test</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.sleep_schedule_beta_test_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>&nbsp;</td>
											</tr>
											<tr>
												<td>Process notification events</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.event_processing_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Send JIRA notifications</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.jira_notifications_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Send Slack notifications</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.slack_notifications_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Send Email notifications</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.email_notifications_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Send Webhook notifications</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.webhook_notifications_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
											<tr>
												<td>Send Github PR status notifications</td>
												<td colspan="2">
													<md-radio-group
														data-ng-model="Settings.service_flags.github_status_api_disabled"
														layout="row">
														<md-radio-button data-ng-value="false"></md-radio-button>
														<md-radio-button data-ng-value="true"></md-radio-button>
													</md-radio-group>
												</td>
											</tr>
										</tbody>
									</table>

								</md-card-content>
								<md-card-title>
									<md-card-title-text>
										<span>Disabled GQL Queries</span>
									</md-card-title-text>
								</md-card-title>
								<md-card-content>
									<div>
										<section style="height: 70px;" layout="row" flex>
											<md-input-container class="control"  style="width: 200px;">
												<label>Operation name to disable</label>
												<input type="text" default="ABC" ng-model="queryMapping.newQuery" />
											</md-input-container>
											<div style="margin-top: 1%;">
												<button class="plus-button btn btn-primary" type="button"
													 ng-click="addDisabledGQLQuery()">
													<i class="fa fa-plus"></i>
												</button>
											</div>
										</section>
										<div id="ec2-list" class="form-group" ng-repeat="(index, queryName) in Settings.disabled_gql_queries">
											<section layout="row" flex>
												<span style="width: 200px;">[[queryName]]</span>
												<button class="btn btn-default btn-danger" type="button" ng-click="removeDisabledGQLQuery(queryName)">
													<i class="fa fa-trash"></i>
												</button>
											</section>
										</div>
									</div>
								</md-card-content>
							</md-card>

							<section layout="column" flex=50>
								<md-button type="submit" class="md-raised" ng-click="saveSettings()"
									style="width:20%; right:-78%">Save Changes</md-button>

								<md-card flex=50 id="announcements" style="height:240px">
									<md-card-title>
										<md-card-title-text>
											<span>Announcements</span>
										</md-card-title-text>
									</md-card-title>
									<md-card-content>
										<md-input-container class="control">
											<label>Site-wide banner:</label>
											<input type="text" id="txtBanner" ng-model="Settings.banner"
												placeholder="Enter banner text here">
										</md-input-container>
										<md-input-container class="control">
											<label>Banner style:</label>
											<md-select ng-model="Settings.banner_theme">
												<md-option ng-repeat="t in ValidThemes" value="[[t]]">[[t]]</md-option>
											</md-select>
										</md-input-container>
									</md-card-content>

								</md-card>
							</section>
						</section>
						<section layout="row" flex>
							<md-card flex=50 id="notify">
								<md-card-title>
									<md-card-title-text>
										<span>Notify - SES Settings</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('notify')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>From email</label>
										<input type="text" ng-model="Settings.notify.ses.sender_address">
									</md-input-container>
								</md-card-content>
							</md-card>

							<md-card flex=50 id="task_limits">
								<md-card-title>
									<md-card-title-text>
										<span>Task Limits</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('task_limits')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>Max Tasks per Version</label>
										<div class="muted small" style="height:25px;">This includes both selected and unselected tasks</div>
										<input type="number" ng-model="Settings.task_limits.max_tasks_per_version">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Max Includes per Version</label>
										<input type="number" ng-model="Settings.task_limits.max_includes_per_version">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Max Pending Generated Tasks</label>
										<input type="number" ng-model="Settings.task_limits.max_pending_generated_tasks">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Max Hourly Patch Tasks Per User</label>
										<input type="number" ng-model="Settings.task_limits.max_hourly_patch_tasks">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Generate Task JSON Limit (MB)</label>
										<input type="number" ng-model="Settings.task_limits.max_generate_task_json_size">
									</md-input-container>
								</md-card-content>
							</md-card>
						</section>

						<section layout="row" flex>
							<md-card flex=50 id="hostinit">
								<md-card-title>
									<md-card-title-text>
										<span>Hostinit</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('hostinit')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>Host Creation Throttle (num hosts)</label>
										<input type="number" ng-model="Settings.hostinit.host_throttle">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Host Provisioning Throttle (num hosts)</label>
										<input type="number" ng-model="Settings.hostinit.provisioning_throttle">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Cloud status checking batch size</label>
										<input type="number" ng-model="Settings.hostinit.cloud_batch_size">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Max Total Dynamic Hosts</label>
										<input type="number" ng-model="Settings.hostinit.max_total_dynamic_hosts">
									</md-input-container>
								</md-card-content>
							</md-card>

							<md-card flex=50 id="pod_lifecycle">
								<md-card-title>
									<md-card-title-text>
										<span>Pod Lifecycle</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('pod_lifecycle')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>Max Parallel Pod Requests</label>
										<input type="number" ng-model="Settings.pod_lifecycle.max_parallel_pod_requests">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Max Pod Definition Cleanup (Per Job)</label>
										<input type="number" ng-model="Settings.pod_lifecycle.max_pod_definition_cleanup_rate">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Max Secret Cleanup (Per Job)</label>
										<input type="number" ng-model="Settings.pod_lifecycle.max_secret_cleanup_rate">
									</md-input-container>
								</md-card-content>
							</md-card>

						</section>

						<section layout="row" flex>

							<md-card flex=50 id="scheduler">
								<md-card-title>
									<md-card-title-text>
										<span>Scheduler</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('scheduler')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>Task Finder</label>
										<input type="text" ng-model="Settings.scheduler.task_finder">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Host Allocator</label>
										<input type="text" ng-model="Settings.scheduler.host_allocator">
									</md-input-container>
									<md-input-container class="control" style="width:60%;">
										<label>Rounding Rule</label>
										<md-select ng-model="Settings.scheduler.host_allocator_rounding_rule">
											<md-option ng-repeat="rule in validDefaultHostAllocatorRoundingRules" value="[[rule]]">
												[[rule]]</md-option>
										</md-select>
									</md-input-container>
									<md-input-container class="control" style="width:60%;">
										<label>Feedback Rule</label>
										<md-select ng-model="Settings.scheduler.host_allocator_feedback_rule">
											<md-option ng-repeat="rule in validDefaultHostAllocatorFeedbackRules" value="[[rule]]">
												[[rule]]</md-option>
										</md-select>
									</md-input-container>
									<md-input-container class="control" style="width:60%;">
										<label>Overallocation Rule</label>
										<md-select ng-model="Settings.scheduler.hosts_overallocated_rule">
											<md-option ng-repeat="rule in validDefaultHostsOverallocatedRules" value="[[rule]]">
												[[rule]]</md-option>
										</md-select>
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Default Future Host Fraction</label>
										<input type="number" step=".01" min="0" max="1"
											ng-model="Settings.scheduler.free_host_fraction">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Cache Schedules in API (seconds)</label>
										<input type="number" step="1" min="0" max="600"
											ng-model="Settings.scheduler.cache_duration_seconds">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Planner Version</label>
										<input type="text" ng-model="Settings.scheduler.planner">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Target Time (seconds)</label>
										<input type="number" step="1" min="0" max="1800"
											ng-model="Settings.scheduler.target_time_seconds">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Acceptable Host Idle Time (seconds)</label>
										<input type="number" step="1" min="0" max="300"
											ng-model="Settings.scheduler.acceptable_host_idle_time_seconds">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Patch Factor (0 to 100 inclusive)</label>
										<input type="number" step="1" min="0" max="100"
											ng-model="Settings.scheduler.patch_factor">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Patch Time In Queue Factor (0 to 100 inclusive)</label>
										<input type="number" step="1" min="0" max="100"
											ng-model="Settings.scheduler.patch_time_in_queue_factor">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Commit Queue Factor (0 to 100 inclusive)</label>
										<input type="number" step="1" min="0" max="100"
											ng-model="Settings.scheduler.commit_queue_factor">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Mainline Time In Queue Factor (0 to 100 inclusive)</label>
										<input type="number" step="1" min="0" max="100"
											ng-model="Settings.scheduler.mainline_time_in_queue_factor">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Expected Runtime Factor (0 to 100 inclusive)</label>
										<input type="number" step="1" min="0" max="100"
											ng-model="Settings.scheduler.expected_runtime_factor">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Generate Task Factor (0 to 100 inclusive)</label>
										<input type="number" step="1" min="0" max="100"
												 ng-model="Settings.scheduler.generate_task_factor">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Stepback Task Factor (0 to 100 inclusive)</label>
										<input type="number" step="1" min="0" max="100"
												 ng-model="Settings.scheduler.stepback_task_factor">
									</md-input-container>
									<md-input-container class="control" style="width:170px;">
										<md-checkbox ng-model="Settings.scheduler.group_versions">
											Group Versions
										</md-checkbox>
									</md-input-container>
								</md-card-content>
							</md-card>

							<md-card flex=50 id="repotracker">
								<md-card-title>
									<md-card-title-text>
										<span>Repotracker</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('repotracker')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>New revisions to fetch</label>
										<input type="number" ng-model="Settings.repotracker.revs_to_fetch">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Max revisions to search</label>
										<input type="number" ng-model="Settings.repotracker.max_revs_to_search">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Max concurrent requests</label>
										<input type="number" ng-model="Settings.repotracker.max_con_requests">
									</md-input-container>
								</md-card-content>
							</md-card>
						</section>

						<section layout="row" flex>
							<section layout="column" flex>
								<md-card flex=50 id="api" style="height:200px">
									<md-card-title>
										<md-card-title-text>
											<span>API</span>
										</md-card-title-text>
										<md-button ng-click="clearSection('api')">
											<i class="fa fa-trash"></i>
										</md-button>
									</md-card-title>
									<md-card-content>
										<md-input-container class="control" style="width:45%;">
											<label>HTTP listener address</label>
											<input type="text" ng-model="Settings.api.http_listen_addr">
										</md-input-container>
										<md-input-container class="control" style="width:45%; margin-left:50px;">
											<label>Github webhook secret</label>
											<input type="text" ng-model="Settings.api.github_webhook_secret">
										</md-input-container>
									</md-card-content>
								</md-card>

								<md-card flex=50 id="commit_queue">
									<md-card-title>
										<md-card-title-text>
											<span>Commit Queue</span>
										</md-card-title-text>
									</md-card-title>
									<md-card-content>
										<md-input-container class="control" style="width:45%;">
											<label>Merge Distro</label>
											<input type="text" ng-model="Settings.commit_queue.merge_task_distro">
										</md-input-container>
										<md-input-container class="control" style="width:45%;">
											<label>Committer Name</label>
											<input type="text" ng-model="Settings.commit_queue.committer_name">
										</md-input-container>
										<md-input-container class="control" style="width:45%;">
											<label>Committer Email</label>
											<input type="text" ng-model="Settings.commit_queue.committer_email">
										</md-input-container>
										<md-input-container class="control" style="width:45%;">
											<label>Batch Size</label>
											<input type="number" ng-model="Settings.commit_queue.batch_size">
										</md-input-container>
										<button ng-click="clearCommitQueues()" class="md-raised md-button">Clear Commit
											Queues</button>
									</md-card-content>
								</md-card>
							</section>

							<md-card flex=50 id="ui">
								<md-card-title>
									<md-card-title-text>
										<span>UI</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('ui')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>URL</label>
										<input type="text" ng-model="Settings.ui.url">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Help URL</label>
										<input type="text" ng-model="Settings.ui.help_url">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>UIv2 URL</label>
										<input type="text" ng-model="Settings.ui.uiv2_url">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Parsley URL</label>
										<input type="text" ng-model="Settings.ui.parsley_url">
									</md-input-container>
									<md-input-container class="control" style="width:45%;  margin-left:50px;">
										<label>File Streaming Content Types</label>
										<textarea ng-model="Settings.ui.file_streaming_content_types" ng-list="&#10;" ng-trim="false" rows="3"
											md-select-on-focus></textarea>
									</md-input-container>
									<md-input-container class="control" style="width:45%;  margin-left:50px;">
										<label>HTTP listener address</label>
										<input type="text" ng-model="Settings.ui.http_listen_addr">
									</md-input-container>
									<md-input-container class="control" style="width:45%; ;">
										<label>Secret</label>
										<input type="text" ng-model="Settings.ui.secret">
									</md-input-container>
									<md-input-container class="control" style="width:45%;  margin-left:50px;">
										<label>Default project</label>
										<input type="text" ng-model="Settings.ui.default_project">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>CSRF key</label>
										<input type="text" ng-model="Settings.ui.csrf_key">
									</md-input-container>
									<md-input-container class="control" style="width:45%;  margin-left:50px;">
										<label>CORS Origins</label>
										<textarea ng-model="Settings.ui.cors_origins" ng-list="&#10;" ng-trim="false"
											rows="3" md-select-on-focus></textarea>
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Login Domain</label>
										<input type="text" ng-model="Settings.ui.login_domain">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>User Voice URL</label>
										<input type="text" ng-model="Settings.ui.userVoice">
									</md-input-container>
									<md-input-container class="control" style="width:45%; ">
										<md-checkbox ng-model="Settings.ui.cache_templates">
											Cache templates
										</md-checkbox>
									</md-input-container>
								</md-card-content>
							</md-card>

						</section>

						<section layout="row" flex>
							<md-card flex=50 id="auth" style="max-width:49%">
								<md-card-title>
									<md-card-title-text>
										<span>Global Config</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('auth')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<label>Preferred Auth Type</label>
									<md-radio-group data-ng-model="Settings.auth.preferred_type" layout="row">
										<md-radio-button value="okta">Okta</md-radio-button>
										<md-radio-button value="naive">Naive</md-radio-button>
										<md-radio-button value="github">Github</md-radio-button>
										<md-radio-button value="multi">Multi</md-radio-button>
										<md-radio-button value="">None</md-radio-button>
									</md-radio-group>
									<br />
									<md-input-container class="control" style="width:45%;">
										<label>Background Reauth (Minutes)</label>
										<input type="number" ng-model="Settings.auth.background_reauth_minutes">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<md-checkbox ng-model="Settings.auth.allow_service_users">
											Allow Service Users
										</md-checkbox>
									</md-input-container>
								</md-card-content>
							</md-card>

						</section>

						<section layout="row" flex>
							<md-card flex=50 id="okta" style="max-width:49%">
								<md-card-title>
									<md-card-title-text>
										<span>Okta Authentication</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('auth','okta')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>Client ID</label>
										<input type="text" ng-model="Settings.auth.okta.client_id">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Client Secret</label>
										<input type="text" ng-model="Settings.auth.okta.client_secret">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Issuer</label>
										<input type="text" ng-model="Settings.auth.okta.issuer">
									</md-input-container>
									<md-card style="margin-bottom:20px;">
										<md-card-title>
											<md-card-title-text>
												<span>Scopes</span>
											</md-card-title-text>
										</md-card-title>
										<md-card-content>
											<div id="okta-scopes-list" class="form-group"
												ng-repeat="scope in Settings.auth.okta.scopes track by $index">
												<section layout="row" flex>
													<md-input-container class="control" flex=25>
														<input class="control" type="text" ng-model="Settings.auth.okta.scopes[$index]" placeholder="Scope Name">
													</md-input-container>
													<div style="margin-top: 1%;">
														<button class="btn btn-default btn-danger" type="button"
															style="float: left" ng-click="deleteOktaScope($index)">
															<i class="fa fa-trash"></i>
														</button>
													</div>
												</section>
											</div>
											<section layout="row" flex>
												<md-input-container class="control" flex=25>
													<input class="control" type="text" ng-model="new_okta_scope" placeholder="Scope Name">
												</md-input-container>
												<div style="margin-top: 1%;">
													<button class="plus-button btn btn-primary"
														ng-disabled="!validOktaScope(new_okta_scope)" type="button"
														style="float: left" ng-click="addOktaScope()">
														<i class="fa fa-plus"></i>
													</button>
													<label class="control">[[ invalidOktaScope ]]</label>
												</div>
											</section>
										</md-card-content>
									</md-card>
									<md-input-container class="control" style="width:45%;">
										<label>User Group</label>
										<input type="text" ng-model="Settings.auth.okta.user_group">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Expire User Session After Minutes</label>
										<input type="number" ng-model="Settings.auth.okta.expire_after_minutes">
									</md-input-container>
									<div><button ng-show="can_clear_tokens" ng-click="clearAllUserTokens()"
											class="btn btn-primary">Logout Everyone</button></div>
								</md-card-content>
							</md-card>

						</section>

						<section layout="row" flex>

							<md-card flex=50 id="naive" style="max-width:49%">
								<md-card-title>
									<md-card-title-text>
										<span>Naive Authentication</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('auth','naive')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-chips md-transform-chip="chipToUserJSON($chip)"
										ng-model="Settings.auth.naive.users" placeholder="Enter a user in json format">
										<md-chip-template>
											username:[[$chip.username]], password:[[$chip.password]],
											display_name:[[$chip.display_name]],
											email:[[$chip.email]]
										</md-chip-template>
									</md-chips>
								</md-card-content>
							</md-card>
						</section>

						<section layout="row" flex>
							<md-card flex=50 id="github" style="max-width:49%">
								<md-card-title>
									<md-card-title-text>
										<span>Github Authentication</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('auth','github')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>Client ID</label>
										<input type="text" ng-model="Settings.auth.github.client_id">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Client Secret</label>
										<input type="text" ng-model="Settings.auth.github.client_secret">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Organization</label>
										<input type="text" ng-model="Settings.auth.github.organization">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Users</label>
										<textarea ng-model="Settings.auth.github.users" ng-list="&#10;" ng-trim="false"
											rows="3" md-select-on-focus></textarea>
									</md-input-container>
									<md-input-container class="control" style="width:45%">
										<label>Github App Id</label>
										<input type="number" ng-model="Settings.auth.github.app_id">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Default Owner</label>
										<input type="text" ng-model="Settings.auth.github.default_owner">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Default Repo</label>
										<input type="text" ng-model="Settings.auth.github.default_repo">
									</md-input-container>
								</md-card-content>
							</md-card>
							<md-card flex=50 id="multi" style="max-width:49%">
								<md-card-title>
									<md-card-title-text>
										<span>Multi Authentication</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('auth','multi')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<div class="control">
										<label>Read-Write</label>
										<table>
											<tbody ng-repeat="auth in tempMultiAuthReadWrite track by $index">
												<tr>
													<td>
														<input type="text" ng-model="tempMultiAuthReadWrite[$index]"
															class="form-control">
													</td>
													<td>
														<a ng-click="removeMultiAuthReadWrite($index)">
															<i class="fa fa-trash" style="margin-left:10px"></i>
														</a>
													</td>
													<td>
														<label class="icon fa fa-warning distro-error"
															ng-show="tempMultiAuthReadWrite && invalidAuth(auth)">Valid
															values: [[validAuthKinds.join(", ")]]<br></label>
													</td>
												</tr>
											</tbody>
										</table>
										<button type="button" class="md-raised md-button"
											ng-click="addMultiAuthReadWrite()"><i class="fa fa-plus"></i>Add Read-Write
											Auth</button>
									</div>
									<div>
										<label>Read-Only</label>
										<table>
											<tbody ng-repeat="auth in tempMultiAuthReadOnly track by $index">
												<tr>
													<td>
														<input type="text" ng-model="tempMultiAuthReadOnly[$index]"
															class="form-control">
													</td>
													<td>
														<a ng-click="removeMultiAuthReadOnly($index)">
															<i class="fa fa-trash" style="margin-left:10px"></i>
														</a>
													</td>
													<td>
														<label class="icon fa fa-warning distro-error"
															ng-show="tempMultiAuthReadOnly && invalidAuth(auth)">Valid
															values: [[validAuthKinds.join(", ")]]<br></label>
													</td>
												</tr>
											</tbody>
										</table>
										<button type="button" class="md-raised md-button"
											ng-click="addMultiAuthReadOnly()"><i class="fa fa-plus"></i>Add Read-Write
											Auth</button>
									</div>
								</md-card-content>
							</md-card>
						</section>

						<section layout="row" flex>
							<md-card flex=50 id="jira">
								<md-card-title>
									<md-card-title-text>
										<span>Jira</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('jira')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>Host</label>
										<input type="text" ng-model="Settings.jira.host">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Default project</label>
										<input type="text" ng-model="Settings.jira.default_project">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Email</label>
										<input type="text" ng-model="Settings.jira.email">
									</md-input-container>
									<md-card>
										<md-card-title>
											<md-card-title-text>
												<span>Basic Auth</span>
											</md-card-title-text>
										</md-card-title>
										<md-card-content>
											<md-input-container class="control" style="width:45%;">
												<label>Username</label>
												<input type="text" ng-model="Settings.jira.basic_auth.username">
											</md-input-container>
											<md-input-container class="control" style="width:45%; margin-left:50px;">
												<label>Password</label>
												<input type="text" ng-model="Settings.jira.basic_auth.password">
											</md-input-container>
										</md-card-content>
									</md-card>
									<md-card>
										<md-card-title>
											<md-card-title-text>
												<span>OAuth 1.0</span>
											</md-card-title-text>
										</md-card-title>
										<md-card-content>
											<md-input-container class="control" style="width:45%;">
												<label>Access Token</label>
												<input type="text" ng-model="Settings.jira.oauth1.access_token">
											</md-input-container>
											<md-input-container class="control" style="width:45%; margin-left:50px;">
												<label>Token Secret</label>
												<input type="text" ng-model="Settings.jira.oauth1.token_secret">
											</md-input-container>
											<md-input-container class="control" style="width:45%;">
												<label>Consumer Key</label>
												<input type="text" ng-model="Settings.jira.oauth1.consumer_key">
											</md-input-container>
											<md-input-container class="control" style="width:45%; margin-left:50px;">
												<label>Private Key (PEM format)</label>
												<textarea ng-model="Settings.jira.oauth1.private_key" ng-trim="false"
													rows="3" md-select-on-focus></textarea>
											</md-input-container>
										</md-card-content>
									</md-card>
								</md-card-content>
							</md-card>
						</section>

						<section layout="row" flex>

							<md-card flex=50 id="slack">
								<md-card-title>
									<md-card-title-text>
										<span>Slack</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('slack')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>Token</label>
										<input type="text" ng-model="Settings.slack.token">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Level</label>
										<input type="text" ng-model="Settings.slack.level">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Channel</label>
										<input type="text" ng-model="Settings.slack.options.channel">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Name</label>
										<input type="text" ng-model="Settings.slack.options.name">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Username</label>
										<input type="text" ng-model="Settings.slack.options.username">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>App Name</label>
										<input type="text" ng-model="Settings.slack.name">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Fields to set</label>
										<textarea ng-model="Settings.slack.options.fields" ng-list="&#10;"
											ng-trim="false" rows="3" md-select-on-focus></textarea>
									</md-input-container>
									<br />
									<md-input-container class="control" style="width:170px;">
										<md-checkbox ng-model="Settings.slack.options.add_basic_metadata">
											Add basic metadata
										</md-checkbox>
									</md-input-container>
									<md-input-container class="control" style="width:170px; margin-left:50px;">
										<md-checkbox ng-model="Settings.slack.options.use_fields">
											Use fields
										</md-checkbox>
									</md-input-container>
									<md-input-container class="control" style="width:170px; margin-left:50px;">
										<md-checkbox ng-model="Settings.slack.options.all_fields">
											All fields
										</md-checkbox>
									</md-input-container>
								</md-card-content>
							</md-card>

							<md-card flex=50 id="splunk" style="height:280px">
								<md-card-title>
									<md-card-title-text>
										<span>Splunk</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('splunk')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>Server URL</label>
										<input type="text" ng-model="Settings.splunk.splunk_connection_info.url">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Token</label>
										<input type="text" ng-model="Settings.splunk.splunk_connection_info.token">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Channel</label>
										<input type="text" ng-model="Settings.splunk.splunk_connection_info.channel">
									</md-input-container>
								</md-card-content>
							</md-card>
						</section>

						<section layout="row" flex>
							<md-card flex=50 id="newrelic" style="height:auto">
								<md-card-title>
									<md-card-title-text>
										<span>New Relic</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('newrelic')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>Account ID</label>
										<input type="text" ng-model="Settings.newrelic.accountId">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Trust Key</label>
										<input type="text" ng-model="Settings.newrelic.trustKey">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Agent ID</label>
										<input type="text" ng-model="Settings.newrelic.agentId">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>License Key</label>
										<input type="text" ng-model="Settings.newrelic.licenseKey">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Application ID</label>
										<input type="text" ng-model="Settings.newrelic.applicationId">
									</md-input-container>
								</md-card-content>
							</md-card>
						</section>

						<section layout="row" flex>
							<md-card flex=50 id="cedar" style="height:auto">
								<md-card-title>
									<md-card-title-text>
										<span>Cedar</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('cedar')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>HTTP Base URL</label>
										<input type="text" ng-model="Settings.cedar.base_url">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>GRPC Base URL</label>
										<input type="text" ng-model="Settings.cedar.grpc_base_url">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>RPC Port</label>
										<input type="text" ng-model="Settings.cedar.rpc_port">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>User</label>
										<input type="text" ng-model="Settings.cedar.user">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>API Key</label>
										<input type="text" ng-model="Settings.cedar.api_key">
									</md-input-container>
								</md-card-content>
							</md-card>
						</section>

						<section layout="row" flex>
							<md-card flex=50 id="runtimeenvironments" style="height:auto">
								<md-card-title>
									<md-card-title-text>
										<span>Runtime Environments</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('runtimeenvironments')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>Base URL</label>
										<input type="text" ng-model="Settings.runtimeenvironments.base_url">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>API Key</label>
										<input type="text" ng-model="Settings.runtimeenvironments.api_key">
									</md-input-container>
								</md-card-content>
							</md-card>
						</section>

						<section layout="row" flex>
							<md-card flex=50 id="amboy">
								<md-card-title>
									<md-card-title-text>
										<span>Amboy</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('amboy')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>Name</label>
										<input type="text" ng-model="Settings.amboy.name">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Single Worker Name</label>
										<input type="text" ng-model="Settings.amboy.single_name">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>DB URL</label>
										<input type="text" ng-model="Settings.amboy.db_connection.url">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>DB name</label>
										<input type="text" ng-model="Settings.amboy.db_connection.database">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Local pool size</label>
										<input type="number" ng-model="Settings.amboy.pool_size_local">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Remote pool size</label>
										<input type="number" ng-model="Settings.amboy.pool_size_remote">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Local storage size</label>
										<input type="number" ng-model="Settings.amboy.local_storage_size">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<md-checkbox ng-model="Settings.amboy.remote_require_priority">Remote Require
											Priority</md-checkbox>
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Lock timeout (minutes)</label>
										<input type="number" ng-model="Settings.amboy.lock_timeout_minutes">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Sample size</label>
										<input type="number" ng-model="Settings.amboy.sample_size">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Retry Handler Workers</label>
										<input type="number" ng-model="Settings.amboy.retry.num_workers">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Retry Handler Max Job Capacity</label>
										<input type="number" ng-model="Settings.amboy.retry.max_capacity">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Max Retry Handler Attempts per Job</label>
										<input type="number" ng-model="Settings.amboy.retry.max_retry_attempts">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Max Retry Handler Total Time per Job (Seconds)</label>
										<input type="number" ng-model="Settings.amboy.retry.max_retry_time_seconds">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Retry Backoff per Job Attempt (Seconds)</label>
										<input type="number" ng-model="Settings.amboy.retry.retry_backoff_seconds">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Frequency of Checking for Stale Retrying Jobs (Seconds)</label>
										<input type="number" ng-model="Settings.amboy.retry.stale_retrying_monitor_interval_seconds">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Group default workers</label>
										<input type="number" ng-model="Settings.amboy.group_default_workers">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Group background create frequency</label>
										<input type="number"
											ng-model="Settings.amboy.group_background_create_frequency">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Group prune frequency</label>
										<input type="number" ng-model="Settings.amboy.group_prune_frequency">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Group TTL</label>
										<input type="number" ng-model="Settings.amboy.group_ttl">
									</md-input-container>
									<md-card-title>
										<md-card-title-text>
											<span>Named Queues</span>
										</md-card-title-text>
									</md-card-title>
									<div id="amboy-named-queue" class="form-group" ng-repeat="(index, queue) in Settings.amboy.named_queues">
										<md-card>
											<md-card-content>
												<md-input-container class="control" style="width:45%;">
													<label>Name</label>
													<input type="text" ng-model="queue.name">
												</md-input-container>
												<md-input-container class="control" style="width:45%;margin-left:50px">
													<label>Regular Expression</label>
													<input type="text" ng-model="queue.regexp">
												</md-input-container>
												<md-input-container class="control" style="width:45%;">
													<label>Number of Workers</label>
													<input type="number" ng-model="queue.num_workers">
												</md-input-container>
												<md-input-container class="control" style="width:45%;margin-left:50px;">
													<label>Sample Size</label>
													<input type="number" ng-model="queue.sample_size" placeholder="Sample Size">
												</md-input-container>
												<md-input-container class="control" style="width:45%;">
													<label>Lock Timeout (Seconds)</label>
													<input type="number" ng-model="queue.lock_timeout_seconds">
												</md-input-container>
												<div style="margin-top: 1%;">
													<button class="btn btn-default btn-danger" type="button"
														style="float: left" ng-click="deleteAmboyNamedQueue(index)">
														<i class="fa fa-trash"></i>
													</button>
												</div>
											</md-card-content>
										</md-card>
									</div>
									<md-card>
										<md-card-content>
											<md-input-container class="control" style="width:45%;">
												<label>Name</label>
												<input type="text" ng-model="new_amboy_named_queue.name">
											</md-input-container>
											<md-input-container class="control" style="width:45%;margin-left:50px;">
												<label>Regular Expression</label>
												<input type="text" ng-model="new_amboy_named_queue.regexp">
											</md-input-container>
											<md-input-container class="control" style="width:45%;">
												<label>Number of Workers</label>
												<input type="number" ng-model="new_amboy_named_queue.num_workers">
											</md-input-container>
											<md-input-container class="control" style="width:45%;margin-left:50px;">
												<label>Sample Size</label>
												<input type="number" ng-model="new_amboy_named_queue.sample_size" placeholder="Sample Size">
											</md-input-container>
											<md-input-container class="control" style="width:45%;">
												<label>Lock Timeout (Seconds)</label>
												<input type="number" ng-model="new_amboy_named_queue.lock_timeout_seconds">
											</md-input-container>
											<div style="margin-top:1%;">
												<button class="plus-button btn btn-primary"
													ng-disabled="!validAmboyNamedQueue(new_amboy_named_queue)" type="button"
													style="float:left" ng-click="addAmboyNamedQueue()">
													<i class="fa fa-plus"></i>
												</button>
												<label class="control">[[ invalidAmboyNamedQueue ]]</label>
											</div>
										</md-card-content>
									</md-card>
								</md-card-content>
							</md-card>

								</md-card-content>
							</md-card>

							<md-card flex=50 id="logger_config">
								<md-card-title>
									<md-card-title-text>
										<span>Logger Config</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('logger_config')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>Default level</label>
										<input type="text" ng-model="Settings.logger_config.default_level">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Threshold level</label>
										<input type="text" ng-model="Settings.logger_config.threshold_level">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Log buffer duration (secs)</label>
										<input type="number" ng-model="Settings.logger_config.buffer.duration_seconds">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Buffer count</label>
										<input type="number" ng-model="Settings.logger_config.buffer.count">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<md-checkbox ng-model="Settings.logger_config.buffer.use_async">
											Use asynchronous buffered logger
										</md-checkbox>
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Incoming Buffer Factor</label>
										<input type="number" ng-disabled="!Settings.logger_config.buffer.use_async" ng-model="Settings.logger_config.buffer.incoming_buffer_factor">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Logkeeper URL</label>
										<input type="text" ng-model="Settings.logger_config.logkeeper_url">
									</md-input-container>
								</md-card-content>
							</md-card>
						</section>

						<section layout="row" flex>
							<md-card flex=50 id="notifications">
								<md-card-title>
									<md-card-title-text>
										<span>Notifications Config</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('notifications')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<div class="muted small" style="height:25px;">All settings are applied per-server
									</div>
									<md-input-container class="control" style="width:45%;">
										<label>Notifications Rate Limit Target per Time Interval</label>
										<input type="number" ng-model="Settings.notify.buffer_target_per_interval">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Notifications Rate Limit Time Interval (seconds)</label>
										<input type="number" ng-model="Settings.notify.buffer_interval_seconds">
									</md-input-container>
								</md-card-content>
							</md-card>
							<md-card flex=50 id="triggers" style="height:180px">
								<md-card-title>
									<md-card-title-text>
										<span>Triggers Config</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('triggers')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>Distro for generated tasks</label>
										<input type="text" ng-model="Settings.triggers.generate_distro">
									</md-input-container>
								</md-card-content>
							</md-card>
						</section>

						<section layout="row" flex>

							<md-card flex=50 id="containerpools" style="max-width:49%">
								<md-card-title>
									<md-card-title-text>
										<span>Container Pools</span>
									</md-card-title-text>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control">
										<textarea ng-model="tempContainerPools" rows="3" md-select-on-focus
											style="font-family:courier new, courier, monospace;"></textarea>
									</md-input-container>
								</md-card-content>
							</md-card>

						</section>

						<section layout="row" flex>

							<md-card flex=50 id="aws">
								<md-card-title>
									<md-card-title-text>
										<span>AWS</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('providers','aws')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-card style="margin-bottom:20px;">
										<md-card-title>
											<md-card-title-text>
												<span>Subnets</span>
											</md-card-title-text>
										</md-card-title>
										<md-card-content>
											<div id="ec2-list" class="form-group"
												ng-repeat="(index, subnet) in Settings.providers.aws.subnets">
												<section layout="row" flex>
													<md-input-container class="control" flex=25>
														<input class="control" type="text" ng-model="subnet.az"
															placeholder="Availability Zone">
													</md-input-container>
													<md-input-container class="control" flex=50>
														<input class="control" type="text" ng-model="subnet.subnet_id"
															placeholder="Subnet ID">
													</md-input-container>
													<div style="margin-top: 1%;">
														<button class="btn btn-default btn-danger" type="button"
															style="float: left" ng-click="deleteSubnet(index)">
															<i class="fa fa-trash"></i>
														</button>
													</div>
												</section>
											</div>
											<section layout="row" flex>
												<md-input-container class="control" flex=25>
													<input class="control" type="text" ng-model="new_subnet.az"
														placeholder="Availability Zone">
												</md-input-container>

												<md-input-container class="control" flex=50>
													<input class="control" type="text" ng-model="new_subnet.subnet_id"
														placeholder="Subnet ID">
												</md-input-container>
												<div style="margin-top: 1%;">
													<button class="plus-button btn btn-primary"
														ng-disabled="!validSubnet(new_subnet)" type="button"
														style="float: left" ng-click="addSubnet()">
														<i class="fa fa-plus"></i>
													</button>
													<label class="control">[[ invalidSubnet ]]</label>
												</div>
											</section>
										</md-card-content>
									</md-card>
									<md-input-container class="control" style="width:45%;">
										<label>EC2 Key</label>
										<input type="text" ng-model="Settings.providers.aws.ec2_keys[0].key">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>EC2 Secret</label>
										<input type="text" ng-model="Settings.providers.aws.ec2_keys[0].secret">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Task Output S3 Key</label>
										<input type="text" ng-model="Settings.providers.aws.task_output.key">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Task Output S3 Secret</label>
										<input type="text" ng-model="Settings.providers.aws.task_output.secret">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Task S3 Key</label>
										<input type="text" ng-model="Settings.providers.aws.task_sync.key">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Task S3 Secret</label>
										<input type="text" ng-model="Settings.providers.aws.task_sync.secret">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Task S3 Bucket</label>
										<input type="text" ng-model="Settings.providers.aws.task_sync.bucket">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Task Read-Only S3 Key</label>
										<input type="text" ng-model="Settings.providers.aws.task_sync_read.key">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Task Read-Only S3 Secret</label>
										<input type="text" ng-model="Settings.providers.aws.task_sync_read.secret">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Task Read-Only S3 Bucket</label>
										<input type="text" ng-model="Settings.providers.aws.task_sync_read.bucket">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Parser Project S3 Key</label>
										<input type="text" ng-model="Settings.providers.aws.parser_project.key">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Parser Project S3 Secret</label>
										<input type="text" ng-model="Settings.providers.aws.parser_project.secret">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Parser Project S3 Bucket</label>
										<input type="text" ng-model="Settings.providers.aws.parser_project.bucket">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Parser Project S3 Prefix</label>
										<input type="text" ng-model="Settings.providers.aws.parser_project.prefix">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Persistent DNS Hosted Zone ID</label>
										<input type="text" ng-model="Settings.providers.aws.persistent_dns.hosted_zone_id">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Persistent DNS Domain Name</label>
										<input type="text" ng-model="Settings.providers.aws.persistent_dns.domain">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Default Security Group</label>
										<input type="text" ng-model="Settings.providers.aws.default_security_group">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Total EBS Volume Size Per User</label>
										<input type="number" ng-model="Settings.providers.aws.max_volume_size">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Allowed Instance Types</label>
										<textarea ng-model="Settings.providers.aws.allowed_instance_types"
											ng-list="&#10;" ng-trim="false" rows="3" md-select-on-focus></textarea>
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Allowed Regions</label>
										<textarea ng-model="Settings.providers.aws.allowed_regions" ng-list="&#10;"
											ng-trim="false" rows="3" md-select-on-focus></textarea>
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Allowed Container Images</label>
										<textarea ng-model="Settings.providers.aws.pod.ecs.allowed_images" ng-list="&#10;" ng-trim="false" rows="3"
											md-select-on-focus></textarea>
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Pod ECS Max CPU Units Per Pod</label>
										<input type="number" ng-model="Settings.providers.aws.pod.ecs.max_cpu">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Pod ECS Max Memory (MB) Per Pod</label>
										<input type="number" ng-model="Settings.providers.aws.pod.ecs.max_memory_mb">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Pod Role</label>
										<input type="text" ng-model="Settings.providers.aws.pod.role">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Pod Region</label>
										<input type="text" ng-model="Settings.providers.aws.pod.region">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Pod Secrets Manager Secret Prefix</label>
										<input type="text" ng-model="Settings.providers.aws.pod.secrets_manager.secret_prefix">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Pod ECS Task Definition Prefix</label>
										<input type="text" ng-model="Settings.providers.aws.pod.ecs.task_definition_prefix">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Pod ECS Task Role</label>
										<input type="text" ng-model="Settings.providers.aws.pod.ecs.task_role">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Pod ECS Execution Role</label>
										<input type="text" ng-model="Settings.providers.aws.pod.ecs.execution_role">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Pod ECS Log Region</label>
										<input type="text" ng-model="Settings.providers.aws.pod.ecs.log_region">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Pod ECS Log Group Name</label>
										<input type="text" ng-model="Settings.providers.aws.pod.ecs.log_group">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Pod ECS Log Stream Prefix</label>
										<input type="text" ng-model="Settings.providers.aws.pod.ecs.log_stream_prefix">
									</md-input-container>
									<md-card-title>
										<md-card-title-text>
											<span>Pod ECS AWSVPC Subnets</span>
										</md-card-title-text>
									</md-card-title>
									<md-card-content>
										<div id="ecs-subnets" class="form-group"
											ng-repeat="subnet in Settings.providers.aws.pod.ecs.awsvpc.subnets track by $index">
											<section layout="row" flex>
												<md-input-container class="control" flex=50>
													<input class="control" type="text" ng-model="Settings.providers.aws.pod.ecs.awsvpc.subnets[$index]"
														placeholder="Subnet ID">
												</md-input-container>
												<div style="margin-top: 1%;">
													<button class="btn btn-default btn-danger" type="button"
														style="float: left" ng-click="deleteAWSVPCSubnet($index)">
														<i class="fa fa-trash"></i>
													</button>
												</div>
											</section>
										</div>
										<section layout="row" flex>
											<md-input-container class="control" flex=50>
												<input class="control" type="text" ng-model="new_awsvpc_subnet"
													placeholder="Subnet ID">
											</md-input-container>
											<div style="margin-top: 1%;">
												<button class="plus-button btn btn-primary"
													ng-disabled="!validAWSVPCSubnet(new_awsvpc_subnet)" type="button"
													style="float: left" ng-click="addAWSVPCSubnet()">
													<i class="fa fa-plus"></i>
												</button>
												<label class="control">[[ invalidAWSVPCSubnet ]]</label>
											</div>
										</section>
									</md-card-content>

									<md-card-title>
										<md-card-title-text>
											<span>Pod ECS AWSVPC Security Groups</span>
										</md-card-title-text>
									</md-card-title>
									<md-card-content>
										<div id="ecs-security-groups" class="form-group"
											ng-repeat="sg in Settings.providers.aws.pod.ecs.awsvpc.security_groups track by $index">
											<section layout="row" flex>
												<md-input-container class="control" flex=50>
													<input class="control" type="text" ng-model="Settings.providers.aws.pod.ecs.awsvpc.security_groups[$index]"
														placeholder="Security Group ID">
												</md-input-container>
												<div style="margin-top: 1%;">
													<button class="btn btn-default btn-danger" type="button"
														style="float: left" ng-click="deleteAWSVPCSecurityGroup($index)">
														<i class="fa fa-trash"></i>
													</button>
												</div>
											</section>
										</div>
										<section layout="row" flex>
											<md-input-container class="control" flex=50>
												<input class="control" type="text" ng-model="new_awsvpc_security_group"
													placeholder="Security Group ID">
											</md-input-container>
											<div style="margin-top: 1%;">
												<button class="plus-button btn btn-primary"
													ng-disabled="!validAWSVPCSecurityGroup(new_awsvpc_security_group)" type="button"
													style="float: left" ng-click="addAWSVPCSecurityGroup()">
													<i class="fa fa-plus"></i>
												</button>
												<label class="control">[[ invalidAWSVPCSecurityGroup ]]</label>
											</div>
										</section>
									</md-card-content>

									<md-card>
										<md-card-title>
											<md-card-title-text>
												<span>Pod ECS Clusters</span>
											</md-card-title-text>
										</md-card-title>
										<md-card-content>
											<div id="ecs-clusters" class="form-group" ng-repeat="(index, cluster) in Settings.providers.aws.pod.ecs.clusters">
												<section layout="row" flex>
													<md-input-container class="control" flex=25>
														<input class="control" type="text" ng-model="cluster.name" placeholder="Name">
													</md-input-container>
													<br />
													<md-input-container class="control" flex=25>
														<md-select ng-model="cluster.os" placeholder="OS">
															<md-option ng-repeat="os in validECSOSes" value="[[os]]">[[os]]</md-option>
														</md-select>
													</md-input-container>

													<div style="margin-top: 1%;">
														<button class="btn btn-default btn-danger" type="button"
															style="float: left" ng-click="deleteECSCluster(index)">
															<i class="fa fa-trash"></i>
														</button>
													</div>
												</section>
											</div>
											<section layout="row" flex>
												<md-input-container class="control" flex=25>
													<input class="control" type="text" ng-model="new_ecs_cluster.name"
														placeholder="Name">
												</md-input-container>
												<br />
												<md-input-container class="control" flex=25>
													<md-select ng-model="new_ecs_cluster.os" placeholder="OS">
														<md-option ng-repeat="os in validECSOSes" value="[[os]]">[[os]]</md-option>
													</md-select>
												</md-input-container>
												<div style="margin-top: 1%;">
													<button class="plus-button btn btn-primary"
														ng-disabled="!validECSCluster(new_ecs_cluster)" type="button"
														style="float: left" ng-click="addECSCluster()">
														<i class="fa fa-plus"></i>
													</button>
													<label class="control">[[ invalidECSCluster ]]</label>
												</div>
											</section>
										</md-card-content>
									</md-card>

									<md-card>
										<md-card-title>
											<md-card-title-text>
												<span>Pod ECS Capacity Providers</span>
											</md-card-title-text>
										</md-card-title>
										<md-card-content>
											<div id="ecs-capacity-providers" class="form-group" ng-repeat="(index, capacityProvider) in Settings.providers.aws.pod.ecs.capacity_providers">
												<section layout="row" flex>
													<md-input-container class="control" flex=25>
														<input class="control" type="text" ng-model="capacityProvider.name" placeholder="Name">
													</md-input-container>
													<md-input-container class="control" flex=25>
														<md-select ng-model="capacityProvider.os" placeholder="OS">
															<md-option ng-repeat="os in validECSOSes" value="[[os]]">[[os]]</md-option>
														</md-select>
													</md-input-container>
													<md-input-container class="control" flex=25>
														<md-select ng-model="capacityProvider.windows_version" placeholder="Windows version">
															<md-option ng-repeat="(displayWinVer, winVer) in validECSWindowsVersions" value="[[winVer]]">[[displayWinVer]]</md-option>
														</md-select>
													</md-input-container>
													<md-input-container class="control" flex=25>
														<md-select ng-model="capacityProvider.arch" placeholder="Arch">
															<md-option ng-repeat="arch in validECSArches" value="[[arch]]">[[arch]]</md-option>
														</md-select>
													</md-input-container>

													<div style="margin-top: 1%;">
														<button class="btn btn-default btn-danger" type="button"
															style="float: left" ng-click="deleteECSCapacityProvider(index)">
															<i class="fa fa-trash"></i>
														</button>
													</div>
												</section>
											</div>
											<section layout="row" flex>
												<md-input-container class="control" flex=25>
													<input class="control" type="text" ng-model="new_ecs_capacity_provider.name"
														placeholder="Name">
												</md-input-container>
												<md-input-container class="control" flex=25>
													<md-select ng-model="new_ecs_capacity_provider.os" placeholder="OS">
														<md-option ng-repeat="os in validECSOSes" value="[[os]]">[[os]]</md-option>
													</md-select>
												</md-input-container>
												<md-input-container class="control" flex=25>
													<md-select ng-model="new_ecs_capacity_provider.windows_version" placeholder="Windows version">
														<md-option ng-repeat="(displayWinVer, winVer) in validECSWindowsVersions" value="[[winVer]]">[[displayWinVer]]</md-option>
													</md-select>
												</md-input-container>
												<md-input-container class="control" flex=25>
													<md-select ng-model="new_ecs_capacity_provider.arch" placeholder="Arch">
														<md-option ng-repeat="arch in validECSArches" value="[[arch]]">[[arch]]</md-option>
													</md-select>
												</md-input-container>
												<div style="margin-top: 1%;">
													<button class="plus-button btn btn-primary"
														ng-disabled="!validECSCapacityProvider(new_ecs_capacity_provider)" type="button"
														style="float: left" ng-click="addECSCapacityProvider()">
														<i class="fa fa-plus"></i>
													</button>
													<label class="control">[[ invalidECSCapacityProvider ]]</label>
												</div>
											</section>
										</md-card-content>
									</md-card>
								</md-card-content>
							</md-card>

							<md-card flex=50 id="docker" style="height:200px">
								<md-card-title>
									<md-card-title-text>
										<span>Docker</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('providers','docker')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>API version</label>
										<input type="text" ng-model="Settings.providers.docker.api_version">
									</md-input-container>
								</md-card-content>
							</md-card>

						</section>

						<section layout="row" flex>
							<md-card flex=50 id="misc">
								<md-card-title>
									<md-card-title-text>
										<span>Misc Settings</span>
									</md-card-title-text>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>API URL</label>
										<input type="text" ng-model="Settings.api_url">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Config directory</label>
										<input type="text" ng-model="Settings.configdir">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Domain name</label>
										<input type="text" ng-model="Settings.domain_name">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Github Organizations</label>
										<textarea ng-model="Settings.github_orgs" ng-list="&#10;" ng-trim="false"
											md-select-on-focus></textarea>
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Github PR creator organization</label>
										<input type="text" ng-model="Settings.github_pr_creator_org">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Pprof port</label>
										<input type="text" ng-model="Settings.pprof_port">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Log path</label>
										<input type="text" ng-model="Settings.log_path">
									</md-input-container>
										<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Shutdown Wait(seconds)</label>
										<input type="number" ng-model="Settings.shutdown_wait_seconds">
									</md-input-container>
								</md-card-content>
							</md-card>

							<md-card flex=50 id="buckets">
								<md-card-title>
									<md-card-title-text>
										<span>Bucket Config</span>
									</md-card-title-text>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>Log Bucket</label>
										<input type="text" ng-model="Settings.buckets.log_bucket.name">
									</md-input-container>
								</md-card-content>
							</md-card>

						</section>

						<section layout="row" flex>

							<md-card flex=50 id="credentials">
								<md-card-title>
									<md-card-title-text>
										<span>Credentials</span>
									</md-card-title-text>
								</md-card-title>
								<md-card-content>
									<md-chips md-transform-chip="addCredential($chip)" ng-model="tempCredentials"
										placeholder="Enter each line as a key:value">
									</md-chips>
								</md-card-content>
								<md-card-content>
									<label>SSH Keys</label>
									<md-list>
										<md-list-item ng-repeat="pair in tempSSHKeyPairs">
											<div class="md-list-item-text" style="width:100%;">
												<p style="white-space:nowrap; text-overflow:ellipsis; overflow:hidden;">
													<b>[[pair.name]]</b></p>
												<p style="white-space:nowrap; text-overflow:ellipsis; overflow:hidden;">
													[[pair.public]]</p>
											</div>
										</md-list-item>
									</md-list>
									<md-input-container class="control" style="width:45%;">
										<label>Name</label>
										<input type="text" ng-model="newSSHKeyPair.name" />
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Public Key</label>
										<input ng-model="newSSHKeyPair.public"
											ng-required="newSSHKeyPair.name && newSSHKeyPair.name.length !== 0" />
									</md-input-container>
									<md-input-container class="control" style="width:90%;">
										<label>Private Key</label>
										<textarea ng-model="newSSHKeyPair.private"
											ng-required="newSSHKeyPair.name && newSSHKeyPair.name.length !== 0"
											wrap="off" rows="1"></textarea>
									</md-input-container>
								</md-card-content>
								<md-button type="submit" class="md-raised" ng-click="addSSHKeyPair()"
									style="width:20%;">Add SSH Key</md-button>
								<label class="icon fa fa-warning distro-error"
									ng-show="tempSSHKeyPairs.length !== 0 && tempSSHKeyPairs.length !== Settings.ssh_key_pairs.length">
									SSH key will not be updated until app server is restarted.<br></label>

								<md-card-content>
									<md-input-container class="control">
										<label>SSH Key Directory</label>
										<input type=text ng-model="Settings.ssh_key_directory"
											placeholder="Path to the directory containing each server's SSH key files" />
									</md-input-container>
									<md-input-container class="control">
										<label>Authorized Keys File</label>
										<input type=text ng-model="Settings.authorized_keys_file"
											placeholder="Path where authorized SSH keys are stored on static hosts" />
									</md-input-container>
								</md-card-content>
								<md-card-content>
									<md-input-container class="control">
										<label>Kanopy SSH Key</label>
										<input type=text ng-model="Settings.kanopy_ssh_key_path"
											placeholder="Path to the SSH key file when running in Kanopy" />
									</md-input-container>
								</md-card-content>

							</md-card>

							<md-card flex=50 id="expansions">
								<md-card-title>
									<md-card-title-text>
										<span>Expansions</span>
									</md-card-title-text>
								</md-card-title>
								<md-card-content>
									<md-chips md-transform-chip="addExpansion($chip)" ng-model="tempExpansions"
										placeholder="Enter each line as a key:value">
									</md-chips>
								</md-card-content>
							</md-card>

						</section>

						<section layout="row" flex>
							<md-card flex=50 id="host_jasper">
								<md-card-title>
									<md-card-title-text>
										<span>Host Jasper</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('host_jasper')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>Binary Name</label>
										<input type="text" ng-model="Settings.host_jasper.binary_name">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Download File Name</label>
										<input type="text" ng-model="Settings.host_jasper.download_file_name">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Port</label>
										<input type="number" ng-model="Settings.host_jasper.port">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>URL</label>
										<input type="text" ng-model="Settings.host_jasper.url">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Version</label>
										<input type="text" ng-model="Settings.host_jasper.version">
									</md-input-container>
								</md-card-content>
							</md-card>

						</section>
						<section layout="row" flex>
							<md-card flex=100 id="jira_notifications">
								<md-card-title>
									<md-card-title-text>
										<span>JIRA Notifications Fields</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('jira_notifications')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<div
										ng-repeat="(projectName, project) in Settings.jira_notifications.custom_fields">
										<div>
											<span>JIRA Project: [[projectName]]</span>
											<span>
												<md-button ng-click="deleteJIRAProject(projectName)">
													<i class="fa fa-trash"></i>
												</md-button>
											</span>
										</div>
										<div>
											<label>Components</label>
											<div>
												<table style="margin-left: -8px;">
													<tbody ng-repeat="component in project.components track by $index">
														<tr>
															<td style="padding-left: 10px;">
																<input type="text"
																	ng-model="Settings.jira_notifications.custom_fields[projectName].components[$index]"
																	class="form-control">
															</td>
															<td>
																<a ng-click="removeComponent(projectName, component)">
																	<i class="fa fa-trash"></i>
																</a>
															</td>
														</tr>
													</tbody>
												</table>
											</div>
											<button type="button" class="md-raised md-button"
												ng-click="addComponent(projectName)"><i class="fa fa-plus"></i>Add
												Component</button>
										</div>
										<div>
											<label>Labels</label>
											<div>
												<table style="margin-left: -8px;">
													<tbody ng-repeat="label in project.labels track by $index">
														<tr>
															<td style="padding-left: 10px;">
																<input type="text"
																	ng-model="Settings.jira_notifications.custom_fields[projectName].labels[$index]"
																	class="form-control">
															</td>
															<td>
																<a ng-click="removeLabel(projectName, label)">
																	<i class="fa fa-trash"></i>
																</a>
															</td>
														</tr>
													</tbody>
												</table>
											</div>
											<button type="button" class="md-raised md-button"
												ng-click="addLabel(projectName)"><i class="fa fa-plus"></i>Add
												Label</button>
										</div>
										<div>
											<label>Custom Fields</label>
											<div>
												<span ng-repeat="(fieldName, tmpl) in project.fields">
													<md-input-container class="control" style="width: 200px;">
														<label>[[fieldName]]</label>
														<input type="text"
															ng-model="Settings.jira_notifications.custom_fields[projectName].fields[fieldName]">
													</md-input-container>
													<md-button
														ng-click="deleteJIRAFieldFromProject(projectName, fieldName)">
														<i class="fa fa-trash"></i>
													</md-button>
												</span>
											</div>
											<div>
												<md-input-container class="control" style="width:45%;">
													<label>Add new custom field</label>
													<input type="text" default="ABC"
														ng-model="jiraMapping.newField[projectName]" />
												</md-input-container>
												<md-button ng-click="addJIRAFieldToProject(projectName)">
													<i class="fa fa-plus"></i>
												</md-button>
											</div>
											<hr />
										</div>
									</div>
									<div>
										<md-input-container class="control" style="width: 200px;">
											<label>Add new JIRA Project</label>
											<input type="text" default="ABC" ng-model="jiraMapping.newProject" />
										</md-input-container>
										<md-button ng-click="addJIRAProject()">
											<i class="fa fa-plus"></i>
										</md-button>
									</div>
								</md-card-content>
							</md-card>
						</section>
						<section layout="row" flex>
							<md-card flex=50 id="spawnhosts">
								<md-card-title>
									<md-card-title-text>
										<span>Spawn Hosts</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('spawnhosts')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>Total Spawn Hosts per user</label>
										<input type="number" ng-model="Settings.spawnhost.spawn_hosts_per_user">
									</md-input-container>
									<md-input-container class="control" style="width:45%; margin-left:50px;">
										<label>Unexpirable Spawn Hosts per user</label>
										<input type="number" ng-model="Settings.spawnhost.unexpirable_hosts_per_user">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Unexpirable Volumes per user</label>
										<input type="number" ng-model="Settings.spawnhost.unexpirable_volumes_per_user">
									</md-input-container>
								</md-card-content>
							</md-card>
						</section>
						<section layout="row" flex>
							<md-card flex=50 id="sleep_schedule">
								<md-card-title>
									<md-card-title-text>
										<span>Sleep Schedules</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('sleep_schedule')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>Permanently Exempt Hosts</label>
										<textarea ng-model="Settings.sleep_schedule.permanently_exempt_hosts" ng-list="&#10;" ng-trim="false" rows="3"
											md-select-on-focus></textarea>
									</md-input-container>
								</md-card-content>
							</md-card>
						</section>
						<section layout="row" flex>
							<md-card flex=50 id="tracer">
								<md-card-title>
									<md-card-title-text>
										<span>Tracer Configuration</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('tracer')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>Collector Endpoint</label>
										<input type="string" ng-model="Settings.tracer.collector_endpoint">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Collector Internal Endpoint</label>
										<input type="string" ng-model="Settings.tracer.collector_internal_endpoint">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<label>Collector API Key</label>
										<input type="string" ng-model="Settings.tracer.collector_api_key">
									</md-input-container>
									<md-input-container class="control" style="width:45%;">
										<md-checkbox ng-model="Settings.tracer.enabled">
											Enabled
										</md-checkbox>
									</md-input-container>
								</md-card-content>
							</md-card>
						</section>
						<section layout="row" flex>
							<md-card flex=50 id="project_creation" style="max-width:49%">
								<md-card-title>
									<md-card-title-text>
										<span>Project Creation Settings</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('project_creation')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<section layout="row" flex>
										<md-input-container class="control" style="width:45%;">
											<label>Total Project Limit</label>
											<input type="number" ng-model="Settings.project_creation.total_project_limit">
										</md-input-container>
										<md-input-container class="control" style="width:45%;">
											<label>Project Per Repo Limit</label>
											<input type="number" ng-model="Settings.project_creation.repo_project_limit">
										</md-input-container>
									</section>
									<section layout="row" flex>
										<md-input-container class="control" style="width:45%;">
											<label>Jira Project to Request S3 Credentials From</label>
											<input type="text" ng-model="Settings.project_creation.jira_project">
										</md-input-container>

									</section>
										<md-card style="margin-bottom:20px;">
											<md-card-title>
												<md-card-title-text>
													<span>Repo Exceptions</span>
												</md-card-title-text>
											</md-card-title>
											<md-card-content>
												<div id="repo-list" class="form-group" ng-repeat="(index, repo_exceptions) in Settings.project_creation.repo_exceptions">
													<section layout="row" flex>
														<md-input-container class="control" flex=25>
															<input class="control" type="text" ng-model="repo_exceptions.owner" placeholder="Owner Name">
														</md-input-container>
														<md-input-container class="control" flex=50>
															<input class="control" type="text" ng-model="repo_exceptions.repo" placeholder="Repo Name">
														</md-input-container>
														<div style="margin-top: 1%;">
															<button class="btn btn-default btn-danger" type="button" style="float: left"
																ng-click="deleteOwnerRepo(index)">
																<i class="fa fa-trash"></i>
															</button>
														</div>
													</section>
												</div>
												<section layout="row" flex>
													<md-input-container class="control" flex=25>
														<input class="control" type="text" ng-model="new_owner_repo.owner" placeholder="Owner Name">
													</md-input-container>
	
													<md-input-container class="control" flex=50>
														<input class="control" type="text" ng-model="new_owner_repo.repo" placeholder="Repo Name">
													</md-input-container>
													<div style="margin-top: 1%;">
														<button class="plus-button btn btn-primary" ng-disabled="!validOwnerRepo(new_owner_repo)" type="button"
															style="float: left" ng-click="addOwnerRepo()">
															<i class="fa fa-plus"></i>
														</button>
														<label class="control">[[ invalidOwnerRepo ]]</label>
													</div>
												</section>
										</md-card>
								</md-card-content>
							</md-card>
						</section>
						<section layout="row" flex>
							<md-card flex=50 id="github_check_run">
								<md-card-title>
									<md-card-title-text>
										<span>GitHub Check Run Configuration</span>
									</md-card-title-text>
									<md-button ng-click="clearSection('github_check_run')">
										<i class="fa fa-trash"></i>
									</md-button>
								</md-card-title>
								<md-card-content>
									<md-input-container class="control" style="width:45%;">
										<label>Check Run Limit per Patch</label>
										<input type="number" ng-model="Settings.github_check_run.check_run_limit">
									</md-input-container>
								</md-card-content>
							</md-card>
						</section>
					<md-card-footer class="squeezeTop">
						<md-button type="submit" class="md-raised" ng-click="saveSettings()">Save Changes</md-button>
					</md-card-footer>
				</form>
			</md-card>

			<md-card id="restart" style="width:99%">
				<md-card-title>
					<i class="fa fa-refresh"></i>
					<md-card-title-text>
						<span>Restart Tasks/Commit Queue Versions</span>
						<span class="md-subhead">Restart failed tasks or commit queue versions that started or finished
							between two times. Uses Eastern timezone regardless of configured timezone.</span>
					</md-card-title-text>
				</md-card-title>
				<md-card-content>
					<table>
						<tr>
							<td>Restart...</td>
							<td>
								<md-radio-group data-ng-model="restartType" layout="row" style="margin-left:40px">
									<md-radio-button data-ng-value="'tasks'" style="width:2%"></md-radio-button>
									<span>Tasks</span>
									<md-radio-button class="inline" data-ng-value="'versions'"
										style="margin-left:40px;width:12%"></md-radio-button><span>Versions</span>
								</md-radio-group>
							</td>
						</tr>
					</table>
					<table>
						<tr>
							<td>From:</td>
							<td>
								<md-datepicker ng-model="fromDate" md-placeholder="Date"></md-datepicker>
								<md-time-picker class="inline" ng-model="fromTime" message="message"></md-time-picker>
							</td>
						</tr>
						<tr>
							<td>To:</td>
							<td>
								<md-datepicker ng-model="toDate" md-placeholder="Date"></md-datepicker>
								<md-time-picker class="inline" ng-model="toTime" message="message"></md-time-picker>
							</td>
						</tr>
					</table>
				</md-card-content>
				<md-card-footer class="squeezeTop">
					<md-checkbox ng-model="restartRed" ng-show="restartType == 'tasks'" style="top: 10px">Red Tasks
					</md-checkbox>
					<md-checkbox ng-model="restartPurple" ng-show="restartType == 'tasks'" style="top: 10px">Purple
						Tasks</md-checkbox>
					<md-checkbox ng-model="restartLavender" ng-show="restartType == 'tasks'" style="top: 10px">Lavender
						Tasks</md-checkbox>
					<md-button class="md-raised" ng-disabled="disableSubmit" ng-click="restartItems(restartType, true)">
						Submit</md-button>
				</md-card-footer>
			</md-card>

		</md-content>

	</section>
</div>
{{end}}
