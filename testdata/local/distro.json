{"_id":"localhost","image_id":"ubuntu2204","arch":"linux_amd64","work_dir":"/home/ubuntu/smoke","provider":"static","settings":{"hosts":[{"name":"localhost"}]},"user":"ubuntu","spawn_allowed":false}
{"_id":"localhost2","image_id":"ubuntu2204","admin_only":true,"arch":"linux_amd64","work_dir":"/home/ubuntu/smoke","provider":"static","settings":{"hosts":[{"name":"localhost2"}]},"user":"ubuntu","spawn_allowed":false}
{"_id":"rhel71-power8-large","image_id":"rhel71-ppc-dev","aliases":["rhel71-power8","rhel71-power8-build"],"arch":"linux_ppc64le","work_dir":"/data/mci","provider":"static","provider_settings":[{"hosts":[{"name":"rhel71-ppc-1.pic.build.10gen.cc"},{"name":"rhel71-ppc-4.pic.build.10gen.cc"}]}],"user":"mci-exec","bootstrap_settings":{"method":"legacy-ssh","communication":"legacy-ssh","client_dir":"/home/mci-exec/evergreen_provisioning","jasper_binary_dir":"/home/mci-exec/evergreen_provisioning","jasper_credentials_path":"/home/mci-exec/evergreen_provisioning/jasper_credentials.json","shell_path":"/bin/bash","resource_limits":{"num_files":64000,"num_processes":-1,"locked_memory":-1,"virtual_memory":-1}},"clone_method":"legacy-ssh","ssh_options":["StrictHostKeyChecking=no","BatchMode=yes","ConnectTimeout=10"],"spawn_allowed":false,"expansions":[{"key":"decompress","value":"tar xzvf"},{"key":"ps","value":"ps aux"},{"key":"kill_pid","value":"kill -- -$(ps opgid= %v)"}],"finder_settings":{"version":"legacy"},"planner_settings":{"version":"tunable","target_time":{"$numberLong":"0"},"group_versions":false,"patch_zipper_factor":{"$numberLong":"0"},"patch_time_in_queue_factor":{"$numberLong":"0"},"commit_queue_factor":{"$numberLong":"0"},"mainline_time_in_queue_factor":{"$numberLong":"0"},"expected_runtime_factor":{"$numberLong":"0"}},"dispatcher_settings":{"version":"revised-with-dependencies"},"host_allocator_settings":{"version":"utilization","minimum_hosts":0,"maximum_hosts":0,"acceptable_host_idle_time":{"$numberLong":"0"}},"disable_shallow_clone":false,"note":"","is_virtual_workstation":false,"is_cluster":false,"home_volume_settings":{"format_command":""},"icecream_settings":{}}
{"_id":"windows-64-vs2015-small","image_id":"windows64-vsMulti","aliases":["windows-64-vs2015","windows-64-vs2015-test"],"arch":"windows_amd64","work_dir":"/data/mci","provider":"ec2-fleet","provider_settings":[{"security_group_ids":["sg-601a6c13"],"vpc_name":"stage_dynamic_vpc","iam_instance_profile_arn":"arn:aws:iam::12345678910:instance-profile/evg","subnet_id":"subnet-d1cae68b","bid_price":0.376,"instance_type":"c4.xlarge","security_group":"sg-601a6c13","user_data":"\u003cpowershell\u003e\nNew-Item -Path \"C:\\user_data_ran\" -ItemType \"file\"\n\u003c/powershell\u003e\n\u003cpersist\u003etrue\u003c/persist\u003e","is_vpc":true,"key_name":"mci","ami":"ami-041a1ef3c2c519879","mount_points":[{"device_name":"xvdb","size":40}],"region":"us-east-1","merge_user_data_parts":true,"fleet_options":{"use_on_demand":false,"use_capacity_optimized":true},"fallback":false}],"setup":"#!/bin/bash\nset -o errexit\nset -o verbose\n\ni=0\nDRIVE_POLL_DELAY=2\nDRIVE_RETRY_MAX=120\n\nwhile [ ! -d \"/cygdrive/z\" ]; do\n    sleep \"$DRIVE_POLL_DELAY\"\n    if [ -d \"/cygdrive/d\" ]; then\n        echo \"select volume 1\" \u003e\u003e /cygdrive/c/remap.sh\n        echo \"assign letter=Z\" \u003e\u003e /cygdrive/c/remap.sh\n        diskpart /s C:/remap.sh\n        break\n    fi\n    let \"i=i+1\"\n    if [ \"$i\" -eq \"$DRIVE_RETRY_MAX\" ]; then\n        df -h\n        exit 1\n        break\n    fi\ndone\n\nif [ -d \"/cygdrive/z\" ]; then\n    rm -rf /data\n    rm -rf /cygdrive/c/data\n    mkdir -p /cygdrive/z/data/db\n    cmd.exe /c mklink /j C:\\\\data Z:\\\\data\n    ln -s /cygdrive/z/data /data\n    chown -R Administrators /data\nelse\n    exit 1\nfi\n\ngithub_pubkey=\"${github_public_key}\"\ngithub_privkey=\"${github_private_key}\"\ngithub_host=\"github.com,207.97.227.239 ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAq2A7hRGmdnm9tUDbO9IDSwBK6TbQa+PXYPCPy6rbTrTtw7PHkccKrpp0yVhp5HdEIcKr6pLlVDBfOLX9QUsyCOV0wzfjIJNlGEYsdlLJizHhbn2mUjvSAHQqZETYP81eFzLQNnPHt4EVVUh7VfDESU84KezmD5QlWpXLmvU31/yMf+Se8xhHTvKSCZIFImWwoG6mbUoWf9nzpIoaSjB+weqqUUmpaaasXVal72J+UX2B+2RPW3RcT0eOzQgqlJL3RKrTJvdsjE3JEAvGq3lGHSZXy28G3skua2SmVi/w4yCE6gbODqnTWlg7+wC604ydGXA8VJiS5ap43JXiUFFAaQ==\"\necho \"$github_host\" | tee -a /home/Administrator/.ssh/known_hosts\necho \"$github_privkey\" | tee /home/Administrator/.ssh/id_rsa\necho \"$github_pubkey\" | tee /home/Administrator/.ssh/id_rsa.pub\nchmod 600 /home/Administrator/.ssh/*\ncp -RT /home/Administrator /home/mci-exec\nchown -R mci-exec /home/mci-exec\n\nmkdir -p /data/tmp\nchmod 1777 /data/tmp\n\npowershell.exe -Command \"Set-ExecutionPolicy Unrestricted\"","teardown":"#!/bin/bash\nset -o verbose\n\necho \"foo\"","user":"Administrator","bootstrap_settings":{"method":"user-data","communication":"rpc","client_dir":"/opt/evergreen","jasper_binary_dir":"/opt/evergreen","jasper_credentials_path":"/opt/evergreen/jasper_credentials.json","service_user":"mci-exec","shell_path":"/bin/bash","root_dir":"C:/cygwin","resource_limits":{}},"clone_method":"oauth","ssh_options":["StrictHostKeyChecking=no","BatchMode=yes","ConnectTimeout=10"],"spawn_allowed":true,"expansions":[{"key":"decompress","value":"/cygdrive/c/Progra~2/7-Zip/7z.exe x"},{"key":"scons","value":"scons.bat"},{"key":"ps","value":"wmic process list /format:list; wmic os get /format:list"},{"key":"kill_pid","value":"taskkill /t /f /pid %v"},{"key":"killall_mci","value":"taskkill /IM mongod.exe /IM mongos.exe /IM mongo.exe /IM bsondump.exe /IM mongoimport.exe /IM mongoexport.exe /IM mongodump.exe /IM mongorestore.exe /IM mongostat.exe /IM mongofiles.exe /IM mongooplog.exe /IM mongotop.exe /IM mongobridge.exe /IM mongod-2.6.exe /IM mongos-2.6.exe /IM mongo-2.6.exe /IM bsondump-2.6.exe /IM mongoimport-2.6.exe /IM mongoexport-2.6.exe /IM mongodump-2.6.exe /IM mongorestore-2.6.exe /IM mongostat-2.6.exe /IM mongofiles-2.6.exe /IM mongooplog-2.6.exe /IM mongotop-2.6.exe /IM mongobridge-2.6.exe /IM mongod-2.4.exe /IM mongos-2.4.exe /IM mongo-2.4.exe /IM bsondump-2.4.exe /IM mongoimport-2.4.exe /IM mongoexport-2.4.exe /IM mongodump-2.4.exe /IM mongorestore-2.4.exe /IM mongostat-2.4.exe /IM mongofiles-2.4.exe /IM mongooplog-2.4.exe /IM mongotop-2.4.exe /IM mongobridge-2.4.exe /IM test.exe /IM buildlogger.py /IM smoke.py /IM python.exe /IM cl.exe /IM lock_mgr_test.exe /IM background_job_test.exe /IM repl_coordinator_impl_heartbeat_test.exe /f"},{"key":"scons_prune_ratio","value":"0.8"}],"finder_settings":{"version":"legacy"},"planner_settings":{"version":"legacy","target_time":{"$numberLong":"0"},"group_versions":false,"patch_zipper_factor":{"$numberLong":"0"},"patch_time_in_queue_factor":{"$numberLong":"0"},"commit_queue_factor":{"$numberLong":"0"},"mainline_time_in_queue_factor":{"$numberLong":"0"},"expected_runtime_factor":{"$numberLong":"0"}},"dispatcher_settings":{"version":"revised"},"host_allocator_settings":{"version":"utilization","minimum_hosts":0,"maximum_hosts":5,"acceptable_host_idle_time":{"$numberLong":"0"}},"disable_shallow_clone":false,"note":"","is_virtual_workstation":false,"home_volume_settings":{"format_command":""},"icecream_settings":{}}
{"_id":"ubuntu1804-workstation","image_id":"ubuntu1804","arch":"linux_amd64","work_dir":"/home/ubuntu","provider":"ec2-fleet","provider_settings":[{"security_group":"sg-1a636869","key_name":"mci","instance_type":"m5.xlarge","subnet_id":"subnet-6dd81326","vpc_name":"production_dynamic_vpc","ami":"ami-09c1766510222d936","is_vpc":true,"mount_points":[],"bid_price":0.21,"security_group_ids":["sg-1a636869","sg-026695ab074d5d6fc"],"fleet_options":{"use_on_demand":true,"use_capacity_optimized":false},"fallback":false,"region":"us-east-1"}],"setup_as_sudo":true,"user":"ubuntu","bootstrap_settings":{"method":"user-data","communication":"rpc","client_dir":"/opt/evergreen","jasper_binary_dir":"/opt/evergreen","jasper_credentials_path":"/opt/evergreen/jasper_credentials.json","shell_path":"/bin/bash","resource_limits":{"num_files":64000,"num_processes":-1,"locked_memory":-1,"virtual_memory":-1}},"clone_method":"legacy-ssh","ssh_options":["StrictHostKeyChecking=no","BatchMode=yes","ConnectTimeout=10"],"spawn_allowed":true,"finder_settings":{"version":"legacy"},"planner_settings":{"version":"tunable","target_time":{"$numberLong":"0"},"group_versions":false,"patch_zipper_factor":{"$numberLong":"0"},"patch_time_in_queue_factor":{"$numberLong":"0"},"commit_queue_factor":{"$numberLong":"0"},"mainline_time_in_queue_factor":{"$numberLong":"0"},"expected_runtime_factor":{"$numberLong":"0"}},"dispatcher_settings":{"version":"revised-with-dependencies"},"host_allocator_settings":{"version":"utilization","minimum_hosts":0,"maximum_hosts":0,"acceptable_host_idle_time":{"$numberLong":"0"}},"disable_shallow_clone":false,"note":"","is_virtual_workstation":true,"is_cluster":false,"home_volume_settings":{"format_command":"/sbin/mkfs.xfs"},"icecream_settings":{"scheduler_host":"iceccd-scheduler-lb-dc60d36ea13cfd3c.elb.us-east-1.amazonaws.com","config_path":"/etc/icecc/icecc.conf"}}
{"_id":"ubuntu1604-container-test","image_id":"ubuntu1604","arch":"linux_amd64","work_dir":"/tmp/container","provider":"docker","provider_settings":[{"port_range":{"min_port":0,"max_port":99999},"vpc_name":"stage_dynamic_vpc","key_name":"mci","subnet_id":"subnet-223l043e","build_type":"import","docker_registry_user":"","is_vpc":true,"docker_registry_pw":"","security_group_ids":["sg-801a6c13"],"image_name":"333a66d41d20","ami":"ami-cd1234b5","bid_price":0.11,"image_url":"https://s3.amazonaws.com/images/ubuntu-container-test.tgz","instance_type":"c3.xlarge","host_ip":"ec2-11-22-333-444.compute-1.amazonaws.com","client_port":3000,"security_group":"sg-801a6c13","user_data":""}],"user":"ubuntu","bootstrap_settings":{"method":"legacy-ssh","communication":"legacy-ssh","resource_limits":{}},"clone_method":"oauth","ssh_options":["StrictHostKeyChecking=no","BatchMode=yes","ConnectTimeout=10"],"spawn_allowed":false,"expansions":[{"key":"decompress","value":"tar zxvf"},{"key":"ps","value":"ps aux"},{"key":"kill_pid","value": "kill -- -$(ps opgid= %v)"}],"container_pool":"test-pool-1","finder_settings":{"version":"legacy"},"planner_settings":{"version":"legacy","target_time":{"$numberLong":"0"},"group_versions":false,"patch_zipper_factor":{"$numberLong":"0"},"patch_time_in_queue_factor":{"$numberLong":"0"},"commit_queue_factor":{"$numberLong":"0"},"mainline_time_in_queue_factor":{"$numberLong":"0"},"expected_runtime_factor":{"$numberLong":"0"}},"dispatcher_settings":{"version":"revised"},"host_allocator_settings":{"version":"utilization","minimum_hosts":0,"maximum_hosts":0,"acceptable_host_idle_time":{"$numberLong":"0"}},"disable_shallow_clone":false,"use_legacy_agent":false,"note":"","is_virtual_workstation":false,"home_volume_settings":{"format_command":""},"icecream_settings":{}}
{"_id":"ubuntu1604-parent","image_id":"ubuntu1604","arch":"linux_amd64","work_dir":"/data/mci","provider":"ec2-ondemand","provider_settings":[{"region":"us-east-1","ami":"ami-0000","iam_instance_profile_arn":"arn:aws:iam::12345678910:instance-profile/evg","instance_type":"c4.xlarge","bid_price":0.10,"key_name":"mci","mount_points":[{"device_name":"/dev/xvdd","size":100,"volume_type":"gp3","throughput":150}],"security_group_ids":["sg-00a13ed49ddc11500","sg-007bef6dc2d1a3200"],"subnet_id":"subnet-00abcde12345678910","vpc_name":"stage_dynamic_vpc","is_vpc":true}],"user":"ubuntu","bootstrap_settings":{"method":"legacy-ssh","communication":"legacy-ssh","resource_limits":{}},"clone_method":"legacy-ssh","ssh_options":["StrictHostKeyChecking=no","BatchMode=yes","ConnectTimeout=10"],"spawn_allowed":true,"expansions":[{"key":"decompress","value":"tar zxvf"},{"key":"ps","value":"ps aux"},{"key":"kill_pid","value":"kill -- -$(ps opgid= %v)"}],"finder_settings":{"version":"legacy"},"planner_settings":{"version":"legacy","target_time":{"$numberLong":"0"},"group_versions":false,"patch_zipper_factor":{"$numberLong":"0"},"patch_time_in_queue_factor":{"$numberLong":"0"},"commit_queue_factor":{"$numberLong":"0"},"mainline_time_in_queue_factor":{"$numberLong":"0"},"expected_runtime_factor":{"$numberLong":"0"},"generate_task_factor":{"$numberLong":"0"},"stepback_task_factor":{"$numberLong":"0"}},"dispatcher_settings":{"version":"revised"},"host_allocator_settings":{"version":"utilization","minimum_hosts":0,"maximum_hosts":5,"rounding_rule":"","feedback_rule":"","hosts_overallocated_rule":"","acceptable_host_idle_time":{"$numberLong":"0"},"future_host_fraction":0},"disable_shallow_clone":false,"note":"","is_virtual_workstation":false,"is_cluster":false,"home_volume_settings":{"format_command":""},"icecream_settings":{}}
{"_id":"ubuntu1604-small","image_id":"ubuntu1604","arch":"linux_amd64","work_dir":"/home/ubuntu","provider":"ec2-fleet","provider_settings":[{"security_group":"sg-1a434449","key_name":"mci","instance_type":"m5.xlarge","subnet_id":"subnet-1ed01357","vpc_name":"production_dynamic_vpc","ami":"ami-54f4861010272d936","is_vpc":true,"mount_points":[],"bid_price":0.21,"security_group_ids":["sg-1a434449"],"fleet_options":{"use_on_demand":true,"use_capacity_optimized":false},"fallback":false,"region":"us-east-1"}],"setup_as_sudo":true,"user":"ubuntu","bootstrap_settings":{"method":"user-data","communication":"rpc","client_dir":"/opt/evergreen","jasper_binary_dir":"/opt/evergreen","jasper_credentials_path":"/opt/evergreen/jasper_credentials.json","shell_path":"/bin/bash","resource_limits":{"num_files":64000,"num_processes":-1,"locked_memory":-1,"virtual_memory":-1}},"clone_method":"legacy-ssh","ssh_options":["StrictHostKeyChecking=no","BatchMode=yes","ConnectTimeout=10"],"spawn_allowed":true,"finder_settings":{"version":"legacy"},"planner_settings":{"version":"tunable","target_time":{"$numberLong":"0"},"group_versions":false,"patch_zipper_factor":{"$numberLong":"0"},"patch_time_in_queue_factor":{"$numberLong":"0"},"commit_queue_factor":{"$numberLong":"0"},"mainline_time_in_queue_factor":{"$numberLong":"0"},"expected_runtime_factor":{"$numberLong":"0"}},"dispatcher_settings":{"version":"revised-with-dependencies"},"host_allocator_settings":{"version":"utilization","minimum_hosts":0,"maximum_hosts":100,"acceptable_host_idle_time":{"$numberLong":"0"}},"disable_shallow_clone":false,"note":"","is_virtual_workstation":true,"is_cluster":false,"home_volume_settings":{"format_command":"/sbin/mkfs.xfs"},"icecream_settings":{"scheduler_host":"iceccd-scheduler-lb-dc60d36ea13cfd3c.elb.us-east-1.amazonaws.com","config_path":"/etc/icecc/icecc.conf"}}
{"_id":"ubuntu1604-large","image_id":"ubuntu1604","arch":"linux_amd64","work_dir":"/home/ubuntu","provider":"ec2-fleet","provider_settings":[{"security_group":"sg-1a226500","key_name":"mci","instance_type":"m5.8xlarge","subnet_id":"subnet-2cf11321","vpc_name":"production_dynamic_vpc","ami":"ami-16e1771558462e036","is_vpc":true,"mount_points":[],"bid_price":0.21,"security_group_ids":["sg-1a226500"],"fleet_options":{"use_on_demand":true,"use_capacity_optimized":false},"fallback":false,"region":"us-east-1"}],"setup_as_sudo":true,"user":"ubuntu","bootstrap_settings":{"method":"user-data","communication":"rpc","client_dir":"/opt/evergreen","jasper_binary_dir":"/opt/evergreen","jasper_credentials_path":"/opt/evergreen/jasper_credentials.json","shell_path":"/bin/bash","resource_limits":{"num_files":64000,"num_processes":-1,"locked_memory":-1,"virtual_memory":-1}},"clone_method":"legacy-ssh","ssh_options":["StrictHostKeyChecking=no","BatchMode=yes","ConnectTimeout=10"],"spawn_allowed":true,"finder_settings":{"version":"legacy"},"planner_settings":{"version":"tunable","target_time":{"$numberLong":"0"},"group_versions":false,"patch_zipper_factor":{"$numberLong":"0"},"patch_time_in_queue_factor":{"$numberLong":"0"},"commit_queue_factor":{"$numberLong":"0"},"mainline_time_in_queue_factor":{"$numberLong":"0"},"expected_runtime_factor":{"$numberLong":"0"}},"dispatcher_settings":{"version":"revised-with-dependencies"},"host_allocator_settings":{"version":"utilization","minimum_hosts":0,"maximum_hosts":50,"acceptable_host_idle_time":{"$numberLong":"0"}},"disable_shallow_clone":false,"note":"","is_virtual_workstation":true,"is_cluster":false,"home_volume_settings":{"format_command":"/sbin/mkfs.xfs"},"icecream_settings":{"scheduler_host":"iceccd-scheduler-lb-dc60d36ea13cfd3c.elb.us-east-1.amazonaws.com","config_path":"/etc/icecc/icecc.conf"}}
{"_id":"archlinux-test","image_id":"ubuntu2004","arch":"linux_amd64","work_dir":"/tmp/container","provider":"docker","provider_settings":[{"port_range":{"min_port":0,"max_port":99999},"vpc_name":"stage_dynamic_vpc","key_name":"mci","subnet_id":"subnet-113l023f","build_type":"import","docker_registry_user":"","is_vpc":true,"docker_registry_pw":"","security_group_ids":["sg-78ba6c13"],"image_name":"333a66d41d20","ami":"ami-ea3233ba","bid_price":0.11,"image_url":"https://s3.amazonaws.com/images/archlinux-test.tgz","instance_type":"c3.xlarge","host_ip":"ec2-55-66-777-888.compute-1.amazonaws.com","client_port":3000,"security_group":"sg-78ba6c13","user_data":""}],"user":"ubuntu","bootstrap_settings":{"method":"legacy-ssh","communication":"legacy-ssh","resource_limits":{}},"clone_method":"oauth","ssh_options":["StrictHostKeyChecking=no","BatchMode=yes","ConnectTimeout=10"],"spawn_allowed":false,"expansions":[{"key":"decompress","value":"tar zxvf"},{"key":"ps","value":"ps aux"},{"key":"kill_pid","value": "kill -- -$(ps opgid= %v)"}],"container_pool":"test-pool-1","finder_settings":{"version":"legacy"},"planner_settings":{"version":"legacy","target_time":{"$numberLong":"0"},"group_versions":false,"patch_zipper_factor":{"$numberLong":"0"},"patch_time_in_queue_factor":{"$numberLong":"0"},"commit_queue_factor":{"$numberLong":"0"},"mainline_time_in_queue_factor":{"$numberLong":"0"},"expected_runtime_factor":{"$numberLong":"0"}},"dispatcher_settings":{"version":"revised"},"host_allocator_settings":{"version":"utilization","minimum_hosts":0,"maximum_hosts":0,"acceptable_host_idle_time":{"$numberLong":"0"}},"disable_shallow_clone":false,"use_legacy_agent":false,"note":"","is_virtual_workstation":false,"home_volume_settings":{"format_command":""},"icecream_settings":{}}
